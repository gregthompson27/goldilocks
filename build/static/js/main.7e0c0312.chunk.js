(this.webpackJsonpgoldilocks=this.webpackJsonpgoldilocks||[]).push([[0],{125:function(e,t,a){},308:function(e,t){e.exports=function(){return Math.random().toString().slice(-6)}},365:function(e,t){},595:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),i=a(20),s=a.n(i),o=a(12),l=a.n(o),u=a(17),j=a(5),d=a(13),b=a.n(d),h=a(22),m=a(32),p=a(673),g=a(674),O=a(28),x=a(309),f=Object(x.a)({palette:{primary:{500:"#467fcf"},secondary:{main:"#d5ff2c"},background:{default:"#e9f6f9"}},typography:{fontFamily:"'Montserrat', 'sans-serif'",h3:{fontWeight:"bold"},h6:{fontWeight:"bold",lineHeight:1.65},h1:{fontFamily:"FredokaOne-Regular, Fredoka One"},subtitle1:{lineHeight:1.25},overline:{color:"black",lineHeight:.25}}}),v=(a(198),a(125),a(675)),y=a(7),S=a(679),w=a(632),C=a(633),N=a(634),A=a(635),k=a(683),I=a(641),D=a(644),B=a(629),M=a(681),W=a(682),R=a(636),P=a(637),F=a(638),T=a(639),Y=a(640),E=a(642),q=a(643),G=Object(B.a)((function(e){return Object(M.a)({root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:"40ch"}},margin:{margin:e.spacing(2)},buttonMargin:{margin:e.spacing(3)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"35ch"}})})),H=function(e){var t=G(),a=Object(r.useState)(!1),c=Object(j.a)(a,2),i=c[0],s=c[1],o=e.nextStep,l=e.handleChange,u=e.firstName,d=e.lastName,b=e.pronouns,h=e.email,m=e.password;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(S.a,{open:!0,fullWidth:!0,children:[Object(n.jsx)(w.a,{title:"Enter Personal Details"}),Object(n.jsx)(C.a,{id:"form-dialog-title",children:"Step 1: Enter profile details"}),Object(n.jsxs)(N.a,{container:!0,alignContent:"center",justify:"center",children:[Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"first-name",children:"First Name"}),Object(n.jsx)(k.a,{name:"firstName",type:"text",fullWidth:!0,defaultValue:u,startAdornment:Object(n.jsx)(R.a,{position:"start",children:Object(n.jsx)(P.a,{})}),onChange:function(e){return l(e,"firstName")},labelWidth:75})]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"last-name",children:"Last Name"}),Object(n.jsx)(k.a,{name:"lastName",type:"text",fullWidth:!0,defaultValue:d,startAdornment:Object(n.jsx)(R.a,{position:"start",children:Object(n.jsx)(P.a,{})}),onChange:function(e){return l(e,"lastName")},labelWidth:75})]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"pronouns",children:"Pronouns"}),Object(n.jsx)(k.a,{name:"pronouns",type:"text",fullWidth:!0,defaultValue:b,startAdornment:Object(n.jsx)(R.a,{position:"start",children:Object(n.jsx)(F.a,{})}),onChange:function(e){return l(e,"pronouns")},labelWidth:70})]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"email",children:"Email"}),Object(n.jsx)(k.a,{name:"email",type:"email",fullWidth:!0,defaultValue:h,startAdornment:Object(n.jsx)(R.a,{position:"start",children:Object(n.jsx)(T.a,{})}),onChange:function(e){return l(e,"email")},labelWidth:53})]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(n.jsx)(k.a,{id:"outlined-adornment-password",type:i?"text":"password",value:m,fullWidth:!0,onChange:function(e){return l(e,"password")},startAdornment:Object(n.jsx)(R.a,{position:"start",children:Object(n.jsx)(Y.a,{})}),endAdornment:Object(n.jsx)(R.a,{position:"end",children:Object(n.jsx)(I.a,{"aria-label":"toggle password visibility",onClick:function(){s(!i)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:i?Object(n.jsx)(E.a,{}):Object(n.jsx)(q.a,{})})}),labelWidth:70})]}),Object(n.jsx)(D.a,{className:Object(y.a)(t.buttonMargin,t.root),onClick:function(e){return e.preventDefault(),void o()},color:"primary",variant:"outlined",children:"Continue"})]})]})})},Q=a(89),U=a(290),L=a.n(U),z=a(291),J=a.n(z),V=a(292),K=a.n(V),X=a(293),Z=a.n(X),_=a(294),$=a.n(_),ee=Object(B.a)((function(e){return Object(M.a)({root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:"40ch"}},margin:{margin:e.spacing(1)},buttonMargin:{margin:e.spacing(2)}})})),te=(Object(x.a)({overrides:{MuiTypography:{root:{alignItems:"left"}}}}),function(e){var t=ee(),a=e.nextStep,r=e.prevStep,c=e.handleResponse,i=e.q1,s=e.q2,o=e.q3,l=e.q4,u=e.q5;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(S.a,{open:!0,fullWidth:!0,children:[Object(n.jsx)(w.a,{title:"New User Questionnaire"}),Object(n.jsx)(C.a,{id:"form-dialog-title",children:"Step 2: Fill Out Survey (1/2)"}),Object(n.jsxs)(N.a,{container:!0,justify:"center",children:[Object(n.jsxs)(Q.a,{component:"h6",align:"left",children:[Object(n.jsx)(L.a,{}),"Finish this sentence:",Object(n.jsx)("br",{}),"\u201cStrangers would describe me as ____,",Object(n.jsx)("br",{}),"but I know that I am ____.\u201c"]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"response1",children:"Question 1"}),Object(n.jsx)(k.a,{name:"res1",type:"text",multiline:!0,rows:3,fullWidth:!0,required:!0,defaultValue:i,labelWidth:80,onChange:function(e){return c(e,"response1")}})]}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(J.a,{}),"What does it feel like when you feel your best?"]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"response2",children:"Question 2"}),Object(n.jsx)(k.a,{type:"text",multiline:!0,rows:3,fullWidth:!0,required:!0,defaultValue:s,labelWidth:80,onChange:function(e){return c(e,"response2")}})]}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(K.a,{}),"What is your relationship like with your neighbors?"]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"response3",children:"Question 3"}),Object(n.jsx)(k.a,{type:"text",multiline:!0,rows:3,fullWidth:!0,required:!0,defaultValue:o,labelWidth:80,onChange:function(e){return c(e,"response3")}})]}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(Z.a,{}),"How would you describe the vibe of your home?"]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"response4",children:"Question 4"}),Object(n.jsx)(k.a,{type:"text",multiline:!0,rows:3,fullWidth:!0,required:!0,defaultValue:l,labelWidth:80,onChange:function(e){return c(e,"response4")}})]}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)($.a,{}),"How do you decompress day to day?"]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"response5",children:"Question 5"}),Object(n.jsx)(k.a,{type:"text",multiline:!0,rows:3,fullWidth:!0,required:!0,defaultValue:u,labelWidth:80,onChange:function(e){return c(e,"response5")}})]}),Object(n.jsx)(D.a,{className:Object(y.a)(t.buttonMargin,t.root),onClick:function(e){return function(e){e.preventDefault(),a()}(e)},color:"primary",variant:"outlined",children:"Continue"}),Object(n.jsx)(D.a,{className:Object(y.a)(t.buttonMargin,t.root),onClick:function(e){return function(e){e.preventDefault(),r()}(e)},color:"secondary",variant:"outlined",children:"Back"})]})]})})}),ae=a(295),ne=a.n(ae),re=a(296),ce=a.n(re),ie=a(297),se=a.n(ie),oe=a(298),le=a.n(oe),ue=a(299),je=a.n(ue),de=Object(B.a)((function(e){return Object(M.a)({root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:"40ch"}},margin:{margin:e.spacing(1)},buttonMargin:{margin:e.spacing(2)}})})),be=function(e){var t=de(),a=e.nextStep,r=e.prevStep,c=e.handleResponse,i=e.q6,s=e.q7,o=e.q8,l=e.q9,u=e.q10;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(S.a,{open:!0,fullWidth:!0,children:[Object(n.jsx)(w.a,{title:"New User Questionnaire"}),Object(n.jsx)(C.a,{id:"form-dialog-title",children:"Step 3: Fill Out Survey (2/2)"}),Object(n.jsxs)(N.a,{container:!0,alignContent:"center",justify:"center",children:[Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(ne.a,{}),"What is your favorite way to spend a Sunday night?"]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"response1",children:"Question 6"}),Object(n.jsx)(k.a,{type:"text",multiline:!0,rows:3,fullWidth:!0,required:!0,defaultValue:i,labelWidth:80,onChange:function(e){return c(e,"response6")}})]}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(ce.a,{}),"How do you think you are as a roommate?"]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"response1",children:"Question 7"}),Object(n.jsx)(k.a,{type:"text",multiline:!0,rows:3,fullWidth:!0,required:!0,defaultValue:s,labelWidth:80,onChange:function(e){return c(e,"response7")}})]}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(se.a,{}),"What do you do for a living?"]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"response1",children:"Question 8"}),Object(n.jsx)(k.a,{type:"text",multiline:!0,rows:3,fullWidth:!0,required:!0,defaultValue:o,labelWidth:80,onChange:function(e){return c(e,"response8")}})]}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(le.a,{}),"Describe a typical day in your life."]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"response1",children:"Question 9"}),Object(n.jsx)(k.a,{type:"text",multiline:!0,rows:3,fullWidth:!0,required:!0,defaultValue:l,labelWidth:80,onChange:function(e){return c(e,"response9")}})]}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(je.a,{}),"Do you have any allergies or special food requirements?"]}),Object(n.jsxs)(A.a,{className:Object(y.a)(t.margin,t.root),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"response1",children:"Question 10"}),Object(n.jsx)(k.a,{type:"text",multiline:!0,rows:3,fullWidth:!0,required:!0,defaultValue:u,labelWidth:80,onChange:function(e){return c(e,"response10")}})]}),Object(n.jsx)(D.a,{className:Object(y.a)(t.buttonMargin,t.root),onClick:function(e){return function(e){e.preventDefault(),a()}(e)},color:"primary",variant:"outlined",children:"Continue"}),Object(n.jsx)(D.a,{className:Object(y.a)(t.buttonMargin,t.root),onClick:function(e){return function(e){e.preventDefault(),r()}(e)},color:"secondary",variant:"outlined",children:"Back"})]})]})})},he=Object(B.a)((function(e){return Object(M.a)({root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:"40ch"}},margin:{margin:e.spacing(1)},buttonMargin:{margin:e.spacing(2)}})})),me=function(e){var t=he(),a=e.nextStep,r=e.prevStep,c=e.setProfilePhotoUrl,i=function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var e;e=a.result,b.a.post("http://".concat("localhost",":").concat("3000","/image/newPhoto"),{data:e}).then((function(e){var t=e.data;c(t),O.a.success("Photo successfully uploaded!")})).catch((function(e){return console.warn(e)}))}};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(S.a,{open:!0,fullWidth:!0,children:[Object(n.jsx)(w.a,{title:"Upload Profile Photo"}),Object(n.jsx)(C.a,{id:"form-dialog-title",children:"Step 3: Upload Your Profile Photo"}),Object(n.jsxs)(D.a,{variant:"contained",component:"label",children:["Upload Profile Photo",Object(n.jsx)("input",{type:"file",style:{display:"none"},onChange:function(e){return i(e)}})]}),Object(n.jsx)("br",{}),Object(n.jsxs)(N.a,{container:!0,alignContent:"center",justify:"center",className:Object(y.a)(t.margin,t.root),children:[Object(n.jsx)(D.a,{className:Object(y.a)(t.buttonMargin,t.root),onClick:function(e){return function(e){e.preventDefault(),a()}(e)},color:"primary",variant:"outlined",children:"Continue"}),Object(n.jsx)(D.a,{className:Object(y.a)(t.buttonMargin,t.root),onClick:function(e){return function(e){e.preventDefault(),r()}(e)},color:"secondary",variant:"outlined",children:"Back"})]})]})})},pe=a(316),ge=a(645),Oe=a(597),xe=a(646),fe=Object(B.a)((function(e){return Object(M.a)({root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:"40ch"}},margin:{margin:e.spacing(1)},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},buttonMargin:{margin:e.spacing(2)}})})),ve=function(e){var t=fe(),a=e.nextStep,r=e.prevStep,c=e.firstName,i=e.lastName,s=e.pronouns,o=e.email,j=e.password,d=e.q1,h=e.q2,m=e.q3,p=e.q4,g=e.q5,x=e.q6,f=e.q7,v=e.q8,S=e.q9,C=e.q10,A=e.profilePhotoUrl,k=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("user/email/".concat(o)).then((function(e){var t=e.data;localStorage.setItem("userId",t.id),localStorage.setItem("firstName",t.firstName),localStorage.setItem("pronouns",t.pronouns),localStorage.setItem("email",t.email),localStorage.setItem("profilePhoto",t.profilePhoto),localStorage.setItem("swapCount",t.swapCount),localStorage.setItem("guestRating",t.guestRating),localStorage.setItem("hostRating",t.hostRating),localStorage.setItem("inviteCount",t.inviteCount),localStorage.setItem("userBio",t.userBio)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={firstName:c,lastName:i,pronouns:s,email:o,password:j,profilePhotoUrl:A,q1:d,q2:h,q3:m,q4:p,q5:g,q6:x,q7:f,q8:v,q9:S,q10:C},"localhost","3000",e.next=7,fetch("http://".concat("localhost",":").concat("3000","/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 7:return r=e.sent,e.next=10,r.json();case 10:if(!(u=e.sent).jwtToken){e.next=18;break}return localStorage.setItem("token",u.jwtToken),e.next=15,k();case 15:O.a.success("New user created!"),e.next=19;break;case 18:O.a.error(u);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.warn(e.t0.message);case 24:a();case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(w.a,{title:"Confirm Details"}),Object(n.jsxs)(N.a,{container:!0,spacing:3,children:[Object(n.jsx)(N.a,{item:!0,xs:6,children:Object(n.jsxs)(pe.a,{className:t.paper,children:[Object(n.jsx)(Q.a,{variant:"h5",children:"Confirm Personal Details"}),Object(n.jsxs)(ge.a,{children:[Object(n.jsx)(Oe.a,{children:Object(n.jsx)(xe.a,{primary:"First Name",secondary:c})}),Object(n.jsx)(Oe.a,{children:Object(n.jsx)(xe.a,{primary:"Last Name",secondary:i})}),Object(n.jsx)(Oe.a,{children:Object(n.jsx)(xe.a,{primary:"Preferred Pronouns",secondary:s})}),Object(n.jsx)(Oe.a,{children:Object(n.jsx)(xe.a,{primary:"Email",secondary:o})})]})]})}),Object(n.jsxs)(N.a,{item:!0,xs:6,children:[Object(n.jsxs)(pe.a,{className:t.paper,children:[Object(n.jsx)(Q.a,{variant:"h5",children:"Confirm Survey Responses"}),Object(n.jsx)("br",{}),Object(n.jsxs)(ge.a,{children:[Object(n.jsx)(Oe.a,{children:Object(n.jsx)(pe.a,{children:Object(n.jsx)(xe.a,{primary:"Finish this sentence: Strangers would describe me as ____, but I know that I am ____.",secondary:d})})}),Object(n.jsx)(Oe.a,{children:Object(n.jsx)(xe.a,{primary:"What does it feel like when you feel your best?",secondary:h})}),Object(n.jsx)(Oe.a,{children:Object(n.jsx)(xe.a,{primary:"What is your relationship like with your neighbors",secondary:m})}),Object(n.jsx)(Oe.a,{children:Object(n.jsx)(xe.a,{primary:"How would you describe the vibe of your home? What makes it that way?",secondary:p})}),Object(n.jsx)(Oe.a,{children:Object(n.jsx)(xe.a,{primary:"How do you decompress day to day?",secondary:g})}),Object(n.jsx)(Oe.a,{children:Object(n.jsx)(xe.a,{primary:"What is your favorite way to spend a Sunday night?",secondary:x})}),Object(n.jsx)(Oe.a,{children:Object(n.jsx)(xe.a,{primary:"How do you think you are as a roommate?",secondary:f})}),Object(n.jsx)(Oe.a,{children:Object(n.jsx)(xe.a,{primary:"What do you do for a living?",secondary:v})}),Object(n.jsx)(Oe.a,{children:Object(n.jsx)(xe.a,{primary:"Describe a typical day in your life.",secondary:S})}),Object(n.jsx)(Oe.a,{children:Object(n.jsx)(xe.a,{primary:"Do you have any allergies, food restrictions or require ADA accommodations?",secondary:C})})]})]}),Object(n.jsx)(D.a,{className:Object(y.a)(t.buttonMargin),color:"primary",variant:"outlined",onClick:function(e){return I(e)},children:"Submit"}),Object(n.jsx)(D.a,{className:Object(y.a)(t.buttonMargin),onClick:function(e){return function(e){e.preventDefault(),r()}(e)},color:"secondary",variant:"outlined",children:"Back"})]})]})]})},ye=function(){return Object(n.jsxs)("div",{className:"success-container",children:[Object(n.jsx)("h1",{children:"You have successfully registered!"}),Object(n.jsx)("a",{href:"/",children:"Login here."})]})},Se=function(e){var t=e.onSubmitForm,a=(e.firstName,e.lastName,e.pronouns,e.email,e.password,Object(r.useState)(1)),c=Object(j.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(""),l=Object(j.a)(o,2),u=l[0],d=l[1],b=Object(r.useState)(""),h=Object(j.a)(b,2),m=h[0],p=h[1],g=Object(r.useState)(""),O=Object(j.a)(g,2),x=O[0],f=O[1],v=Object(r.useState)(""),y=Object(j.a)(v,2),S=y[0],w=y[1],C=Object(r.useState)(""),N=Object(j.a)(C,2),A=N[0],k=N[1],I=Object(r.useState)(""),D=Object(j.a)(I,2),B=D[0],M=D[1],W=Object(r.useState)(""),R=Object(j.a)(W,2),P=R[0],F=R[1],T=Object(r.useState)(""),Y=Object(j.a)(T,2),E=Y[0],q=Y[1],G=Object(r.useState)(""),Q=Object(j.a)(G,2),U=Q[0],L=Q[1],z=Object(r.useState)(""),J=Object(j.a)(z,2),V=J[0],K=J[1],X=Object(r.useState)(""),Z=Object(j.a)(X,2),_=Z[0],$=Z[1],ee=Object(r.useState)(""),ae=Object(j.a)(ee,2),ne=ae[0],re=ae[1],ce=Object(r.useState)(""),ie=Object(j.a)(ce,2),se=ie[0],oe=ie[1],le=Object(r.useState)(""),ue=Object(j.a)(le,2),je=ue[0],de=ue[1],he=Object(r.useState)(""),pe=Object(j.a)(he,2),ge=pe[0],Oe=pe[1],xe=Object(r.useState)(""),fe=Object(j.a)(xe,2),Se=fe[0],we=fe[1],Ce=Object(r.useState)(""),Ne=Object(j.a)(Ce,2),Ae=Ne[0],ke=Ne[1],Ie=function(){s(i+1)},De=function(){s(i-1)},Be=function(e,t){"response1"===t?q(e.target.value):"response2"===t?L(e.target.value):"response3"===t?K(e.target.value):"response4"===t?$(e.target.value):"response5"===t?re(e.target.value):"response6"===t?oe(e.target.value):"response7"===t?de(e.target.value):"response8"===t?Oe(e.target.value):"response9"===t?we(e.target.value):"response10"===t&&ke(e.target.value)};switch(i){case 1:return Object(n.jsx)(H,{firstName:u,lastName:m,pronouns:x,email:A,dob:S,password:B,nextStep:Ie,handleChange:function(e,t){"firstName"===t?d(e.target.value):"lastName"===t?p(e.target.value):"pronouns"===t?f(e.target.value):"dob"===t?w(e.target.value):"email"===t?k(e.target.value):"password"===t&&M(e.target.value)}});case 2:return Object(n.jsx)(te,{q1:E,q2:U,q3:V,q4:_,q5:ne,nextStep:Ie,prevStep:De,handleResponse:Be});case 3:return Object(n.jsx)(be,{q6:se,q7:je,q8:ge,q9:Se,q10:Ae,nextStep:Ie,prevStep:De,handleResponse:Be});case 4:return Object(n.jsx)(me,{profilePhotoUrl:P,setProfilePhotoUrl:F,nextStep:Ie,prevStep:De});case 5:return Object(n.jsx)(ve,{firstName:u,lastName:m,pronouns:x,email:A,dob:S,password:B,profilePhotoUrl:P,q1:E,q2:U,q3:V,q4:_,q5:ne,q6:se,q7:je,q8:ge,q9:Se,q10:Ae,nextStep:Ie,prevStep:De,onSubmitForm:t});case 6:return Object(n.jsx)(ye,{});default:return Object(n.jsx)("h1",{children:"Didney worl"})}},we="localhost",Ce="3000",Ne=function(e){var t=Object(j.a)(e.handleLogin,2),a=(t[0],t[1]),c=Object(r.useState)(""),i=Object(j.a)(c,2),s=i[0],o=(i[1],Object(r.useState)("")),d=Object(j.a)(o,2),h=d[0],m=(d[1],Object(r.useState)("")),p=Object(j.a)(m,2),g=p[0],x=(p[1],Object(r.useState)("")),f=Object(j.a)(x,2),y=f[0],S=(f[1],Object(r.useState)("")),w=Object(j.a)(S,2),C=w[0],N=(w[1],Object(r.useState)("")),A=Object(j.a)(N,2),k=(A[0],A[1],Object(r.useState)()),I=Object(j.a)(k,2),D=(I[0],I[1],Object(r.useState)("")),B=Object(j.a)(D,2),M=B[0],W=B[1],R=Object(r.useState)(""),P=Object(j.a)(R,2),F=P[0],T=(P[1],Object(r.useState)("")),Y=Object(j.a)(T,2),E=Y[0],q=(Y[1],Object(r.useState)("")),G=Object(j.a)(q,2),H=G[0],Q=(G[1],Object(r.useState)("")),U=Object(j.a)(Q,2),L=U[0],z=(U[1],Object(r.useState)("")),J=Object(j.a)(z,2),V=J[0],K=(J[1],Object(r.useState)("")),X=Object(j.a)(K,2),Z=X[0],_=(X[1],Object(r.useState)("")),$=Object(j.a)(_,2),ee=$[0],te=($[1],Object(r.useState)("")),ae=Object(j.a)(te,2),ne=ae[0],re=(ae[1],Object(r.useState)("")),ce=Object(j.a)(re,2),ie=ce[0],se=(ce[1],Object(r.useState)("")),oe=Object(j.a)(se,2),le=oe[0],ue=(oe[1],function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("user/email/".concat(y)).then((function(e){var t=e.data,a=t.personalityScale;localStorage.setItem("userId",t.id),localStorage.setItem("firstName",t.firstName),localStorage.setItem("pronouns",t.pronouns),localStorage.setItem("email",t.email),localStorage.setItem("profilePhoto",t.profilePhoto),localStorage.setItem("swapCount",t.swapCount),localStorage.setItem("guestRating",t.guestRating),localStorage.setItem("hostRating",t.hostRating),localStorage.setItem("inviteCount",t.inviteCount),localStorage.setItem("userBio",t.userBio),localStorage.setItem("openness",a.openness),localStorage.setItem("conscientiousness",a.conscientiousness),localStorage.setItem("extraversion",a.extraversion),localStorage.setItem("agreeableness",a.agreeableness),localStorage.setItem("neuroticism",a.neuroticism)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),je=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={firstName:s,lastName:h,pronouns:g,email:y,password:C,profilePhotoUrl:M,q1:F,q2:E,q3:H,q4:L,q5:V,q6:Z,q7:ee,q8:ne,q9:ie,q10:le},e.next=5,fetch("http://".concat(we,":").concat(Ce,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return r=e.sent,e.next=8,r.json();case 8:if(!(c=e.sent).jwtToken){e.next=16;break}return localStorage.setItem("token",c.jwtToken),e.next=13,ue();case 13:a(!0),e.next=18;break;case 16:a(!1),O.a.error(c);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.warn(e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"signup-container",children:[Object(n.jsx)("h1",{className:"text-center my-5",children:"Register"}),Object(n.jsxs)("div",{className:"row justify-content-center",children:[Object(n.jsx)(v.a,{m:2,children:Object(n.jsx)(Se,{firstName:s,lastName:h,pronouns:g,email:y,password:C,q1:F,q2:E,q3:H,q4:L,q5:V,q6:Z,q7:ee,q8:ne,q9:ie,q10:le,profilePhotoUrl:M,setProfilePhotoUrl:W,onSubmitForm:je})}),Object(n.jsx)("a",{href:"/",children:"Already registered? Login here."})]})]})})},Ae=a(150),ke=function(e){var t=Object(j.a)(e.handleLogin,2),a=(t[0],t[1]),c=e.setUser,i=Object(Ae.a)().errors,s=Object(r.useState)(""),o=Object(j.a)(s,2),d=o[0],h=o[1],m=Object(r.useState)(""),p=Object(j.a)(m,2),g=p[0],x=p[1],f=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("user/email/".concat(d)).then((function(e){var t=e.data,a=t.personalityScale;localStorage.setItem("userId",t.id),localStorage.setItem("firstName",t.firstName),localStorage.setItem("pronouns",t.pronouns),localStorage.setItem("email",t.email),localStorage.setItem("profilePhoto",t.profilePhoto),localStorage.setItem("swapCount",t.swapCount),localStorage.setItem("guestRating",t.guestRating),localStorage.setItem("hostRating",t.hostRating),localStorage.setItem("inviteCount",t.inviteCount),localStorage.setItem("userBio",t.userBio),localStorage.setItem("openness",a.openness),localStorage.setItem("conscientiousness",a.conscientiousness),localStorage.setItem("extraversion",a.extraversion),localStorage.setItem("agreeableness",a.agreeableness),localStorage.setItem("neuroticism",a.neuroticism)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:d,password:g},e.next=5,fetch("http://".concat("localhost",":").concat("3000","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e}));case 5:return r=e.sent,e.next=8,r.json();case 8:if(!(i=e.sent).jwtToken){e.next=17;break}return localStorage.setItem("token",i.jwtToken),e.next=13,f();case 13:c({id:localStorage.userId,firstName:localStorage.firstName,guestRating:localStorage.guestRating,hostRating:localStorage.hostRating,inviteCount:localStorage.inviteCount,profilePhoto:localStorage.profilePhoto,pronouns:localStorage.pronouns,swapCount:localStorage.swapCount,userBio:localStorage.userBio,email:localStorage.email,openness:localStorage.openness,conscientiousness:localStorage.conscientiousness,extraversion:localStorage.extraversion,agreeableness:localStorage.agreeableness,neuroticism:localStorage.neuroticism}),a(!0),O.a.success("Logged in successfully!"),e.next=19;break;case 17:a(!1),O.a.error(i);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),O.a.error("Invalid credentials entered!"),console.warn(e.t0.message);case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"login-container",children:[Object(n.jsx)(Q.a,{variant:"h1",children:"goldilocks"}),Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsxs)("label",{htmlFor:"email",children:["Email",Object(n.jsx)("input",{className:"form-control my-3",type:"email",name:"email",placeholder:"name@example.com",value:d,onChange:function(e){return h(e.target.value)}}),i.email&&Object(n.jsx)("div",{className:"error",children:" Enter A Valid Email "})]})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsxs)("label",{htmlFor:"password",children:["Enter Password",Object(n.jsx)("input",{className:"form-control my-3",type:"password",id:"password",name:"password",placeholder:"Create Password",value:g,onChange:function(e){return x(e.target.value)}}),i.password&&Object(n.jsx)("div",{className:"error",children:"Enter A Valid Password "})]})}),Object(n.jsxs)("div",{className:"button",children:[Object(n.jsx)("button",{className:"btn btn-success btn-block",type:"submit",onClick:v,children:"Start Swapping"}),Object(n.jsx)("a",{href:"/register",children:Object(n.jsx)("button",{className:"btn btn-success btn-block",type:"button",children:"Sign Up"})})]})]})})]})},Ie=a(16),De=a.n(Ie),Be=a(152),Me=Object(B.a)((function(e){return Object(M.a)({map:{position:"-webkit-sticky",padding:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper}})})),We=function(e){var t=e.locationQuery,a=e.listings,c=Object(r.useState)({latitude:29.959021,longitude:-90.065285,zoom:12,bearing:0,pitch:0}),i=Object(j.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)([]),u=Object(j.a)(l,2),d=u[0],h=u[1],m=Me(),p=Object(r.useCallback)((function(){var e=[];a.length&&a.forEach((function(t){var a=t.latitude,n=t.longitude,r={latitude:Number(a),longitude:Number(n)};e.push(r)})),h(e)}),[a]);Object(r.useEffect)((function(){p()}),[a,p]);return Object(r.useEffect)((function(){var e;t.length&&(e=t,b.a.get("/map/api/geocode/".concat(e)).then((function(e){o({latitude:e.data.features[0].center[1],longitude:e.data.features[0].center[0],zoom:12,bearing:0,pitch:0})})))}),[t]),a.length?Object(n.jsx)(N.a,{className:m.map,item:!0,xs:6,children:Object(n.jsxs)(Be.c,{latitude:s.latitude,longitude:s.longitude,zoom:s.zoom,width:"500px",height:"500px",mapStyle:"mapbox://styles/mapbox/streets-v11",mapboxApiAccessToken:"pk.eyJ1IjoieWVsbG93Y3Jvd25kIiwiYSI6ImNraGIzbzNzMTA4d3kyd3FwcXIxY29vaWcifQ.lREZMqJEEYbor9btJY7wKQ",onViewportChange:function(e){return o(e)},children:[Object(n.jsx)("div",{style:{position:"absolute",right:10,top:10},children:Object(n.jsx)(Be.b,{onViewportChange:function(e){return o(e)}})}),d.map((function(e){var t=e.latitude,a=e.longitude;return Object(n.jsx)(Be.a,{className:"map-marker",latitude:t,longitude:a})}))]})}):Object(n.jsx)(N.a,{className:"mapbox-react",item:!0,xs:5})},Re=a(676),Pe=(a(353),a(403),a(301)),Fe=function(e){var t=Object(r.useState)(null),a=Object(j.a)(t,2),c=a[0],i=a[1],s=e.startDate,o=e.setStartDate,l=e.endDate,u=e.setEndDate,d=e.setDateRange;return Object(n.jsx)("div",{className:"date-picker",children:Object(n.jsx)(Pe.DateRangePicker,{startDate:s,endDate:l,startDateId:"yes",endDateId:"no",onDatesChange:function(e){var t=e.startDate,a=e.endDate;o(t),u(a),t&&a&&d({start:t.format("YYYY-MM-DD"),end:a.format("YYYY-MM-DD")})},focusedInput:c,onFocusChange:function(e){i(e)}})})},Te=Object(B.a)((function(e){return Object(M.a)({input:{background:"white"}})})),Ye=function(e){var t=Te(),a=e.startDate,r=e.setStartDate,c=e.endDate,i=e.setEndDate,s=e.setDateRange,o=e.setDefaultView,l=Object(Ae.a)(),u=l.register,j=l.handleSubmit;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("form",{onSubmit:j((function(t){t.locationQuery&&a&&c&&(e.onSubmit(t.locationQuery),o(!1))})),children:[Object(n.jsx)(Re.a,{name:"locationQuery",inputRef:u,className:t.input,placeholder:"where to?",fullWidth:!0,margin:"normal",variant:"outlined","aria-describedby":"search by location"}),Object(n.jsx)(Fe,{startDate:a,setStartDate:r,endDate:c,setEndDate:i,setDateRange:s}),Object(n.jsx)(D.a,{type:"submit",children:"SEARCH"})]})})},Ee=a(149),qe=a(124),Ge=Object(B.a)((function(e){return Object(M.a)({root:{padding:e.spacing(2),backgroundColor:e.palette.background.paper,color:"black"},image:{width:"100px",height:"100px",margin:"auto",overflow:"hidden",position:"relative",display:"flex",alignItems:"center"},img:{margin:"auto",display:"block",width:"100%",height:"100%",position:"absolute","object-fit":"cover"},info:{display:"flex",flexWrap:"wrap",justify:"center",color:"black"}})})),He=function(e){var t=e.user,a=e.title,c=e.location,i=e.listingAvail,s=e.queriedDates,o=e.photo,l=e.avbId,u=e.matchPercentage,d=Ge(),b=c.listingCity,m=c.listingState,p=i.startAvail,g=i.endAvail,O=s.start,x=s.end,f=Object(r.useState)(""),v=Object(j.a)(f,2),y=v[0],S=v[1],w="".concat(b,", ").concat(m),C="".concat(u,"% match");return Object(r.useEffect)((function(){S(O!==p||x!==g?"flexible? this is available from ".concat(De()(p,"YYYY-MM-DD").format("MMM Do")," to ").concat(De()(g,"YYYY-MM-DD").format("MMM Do")):"available for these dates!")}),[]),Object(n.jsx)("div",{className:d.root,children:Object(n.jsxs)(N.a,{container:!0,item:!0,xs:12,children:[Object(n.jsx)(N.a,{item:!0,xs:4,children:Object(n.jsx)(qe.a,{className:d.image,component:h.b,to:{pathname:"/view-listing/".concat(t,"/").concat(l),state:{startAvail:p,endAvail:g}},children:Object(n.jsx)("img",{className:d.img,alt:"listing",src:o})})}),Object(n.jsxs)(N.a,{item:!0,container:!0,className:d.info,xs:7,direction:"column",component:h.b,to:{pathname:"/view-listing/".concat(t,"/").concat(l),state:{startAvail:p,endAvail:g}},children:[Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsx)(Q.a,{variant:"h6",children:a})}),Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsx)(Q.a,{variant:"subtitle1",style:{paddingBottom:"10px"},children:w})}),Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsx)(Q.a,{variant:"overline",children:y})}),Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsx)(Q.a,{variant:"overline",children:C})})]})]})})},Qe=Object(B.a)((function(e){return Object(M.a)({paper:{margin:"auto"},listing:{padding:e.spacing(2),margin:"auto"}})})),Ue=function(e){var t=e.dateRange,a=e.locationQuery,c=Object(j.a)(e.handleAvailListings,2),i=c[0],s=c[1],o=Qe(),d=Object(r.useState)(""),h=Object(j.a)(d,2),m=(h[0],h[1]),p=function(e){var t=localStorage.openness,a=localStorage.conscientiousness,n=localStorage.extraversion,r=localStorage.agreeableness,c=localStorage.neuroticism,i=Math.abs(e.openness-t)+Math.abs(e.conscientiousness-a)+Math.abs(e.extraversion-n)+Math.abs(e.agreeableness-r)+Math.abs(e.neuroticism-c);return Math.round((5-i)/5*100)},g=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.keys(t),r=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(n.map((function(e){return b.a.get("/listing/fullSearch/".concat(e,"/").concat(a)).then((function(a){var n=Object(Ee.a)({},a);return n.data&&(n.data.startAvail=t[e].startDate,n.data.endAvail=t[e].endDate,n.data.avbId=t[e].avlbId,n.data.matchPercentage=p(a.data.user.personalityScale)),n.data}))}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=4,r().then((function(e){return e.filter((function(e){return!!e}))}));case 4:(c=e.sent)?s(c):(m("sorry :/ nothing is avail here."),s([]));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(l.a.mark((function e(){var n,r,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return n=t.start,r=t.end,c={},e.next=5,b.a.get("/availability/listings/:".concat(n,"/:").concat(r)).then((function(e){return e.data})).catch((function(e){return e}));case 5:(i=e.sent).length?(i.forEach((function(e){var t=e.startDate,a=e.endDate,n=e.listing.id,r=e.id;c[n]||(c[n]={startDate:t,endDate:a,avlbId:r})})),g(c)):(m("sorry :/ nothing is avail here."),s([]));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){O()}),[a,t]),Object(n.jsxs)(N.a,{className:o.paper,container:!0,item:!0,xs:6,children:[m,i.map((function(e){var a=e.userId,r=e.listingTitle,c=e.listingCity,i=e.listingState,s=e.startAvail,l=e.endAvail,u=e.listingPhoto,j=e.avbId,d=e.matchPercentage,b=u.url;return Object(n.jsx)(N.a,{container:!0,item:!0,className:o.listing,children:Object(n.jsx)(He,{user:a,title:r,location:{listingCity:c,listingState:i},listingAvail:{startAvail:s,endAvail:l},queriedDates:t,avbId:j,photo:b,matchPercentage:d})})}))]})},Le=Object(B.a)((function(e){return Object(M.a)({root:{backgroundColor:e.palette.background.paper},image:{width:"240px",height:"128px",margin:"auto",overflow:"hidden",position:"relative",display:"flex",alignItems:"center"},img:{margin:"auto",display:"block",position:"absolute","object-fit":"cover",width:"100%",height:"100%"},listing:{color:"black"},title:{lineHeight:"1.35",paddingTop:"10px",paddingBottom:"5px"}})})),ze=function(e){var t=e.user,a=e.title,r=e.city,c=e.state,i=e.listingAvail,s=e.avbId,o=e.photo,l=e.matchPercentage,u=Le(),j=i.startAvail,d=i.endAvail,b="".concat(r,", ").concat(c),m="available ".concat(De()(j,"YYYY-MM-DD").format("MMM Do YYYY")),p="".concat(l,"% match");return Object(n.jsxs)("div",{className:u.root,children:[Object(n.jsx)(N.a,{container:!0,className:u.listing,item:!0,xs:12,children:Object(n.jsx)(qe.a,{className:u.image,component:h.b,to:{pathname:"/view-listing/".concat(t,"/").concat(s),state:{startAvail:j,endAvail:d}},children:Object(n.jsx)("img",{className:u.img,alt:"complex",src:o})})}),Object(n.jsxs)(N.a,{container:!0,item:!0,direction:"column",xs:12,component:h.b,className:u.listing,to:{pathname:"/view-listing/".concat(t,"/").concat(s),state:{startAvail:j,endAvail:d}},children:[Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsx)(Q.a,{className:u.title,variant:"h6",children:a})}),Object(n.jsx)(N.a,{item:!0,xs:10,children:Object(n.jsx)(Q.a,{variant:"subtitle1",style:{paddingBottom:"10px"},children:b})})]}),Object(n.jsx)(N.a,{item:!0,xs:10,children:Object(n.jsx)(Q.a,{variant:"overline",children:m})}),Object(n.jsx)(N.a,{item:!0,xs:10,children:Object(n.jsx)(Q.a,{variant:"overline",children:p})})]})},Je=Object(B.a)((function(e){return Object(M.a)({root:{backgroundColor:e.palette.background.paper},paper:{height:320,width:250,padding:e.spacing(2),margin:"auto"},gridList:{flexWrap:"nowrap"},inline:{display:"inline"},container:{margin:"auto",display:"flex",justifyContent:"center"}})})),Ve=function(){var e=Je(),t=Object(r.useState)([]),a=Object(j.a)(t,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){b.a.get("/listing/randomFour/".concat(localStorage.userId)).then((function(e){i(e.data)})).catch((function(e){return e}))}),[]),c.length?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(N.a,{container:!0,className:e.container,justify:"center",spacing:4,children:c.map((function(t){var a=t.id,r=t.userId,c=t.listingTitle,i=t.listingCity,s=t.listingState,o=t.availabilities,l=t.listingPhoto,u=function(e){var t=localStorage.openness,a=localStorage.conscientiousness,n=localStorage.extraversion,r=localStorage.agreeableness,c=localStorage.neuroticism,i=Math.abs(e.openness-t)+Math.abs(e.conscientiousness-a)+Math.abs(e.extraversion-n)+Math.abs(e.agreeableness-r)+Math.abs(e.neuroticism-c);return Math.round((5-i)/5*100)}(t.user.personalityScale),j=o[0].startDate,d=o[0].endDate,b=o[0].id,h=l.url;return Object(n.jsx)(N.a,{item:!0,children:Object(n.jsx)(pe.a,{className:e.paper,children:Object(n.jsx)(ze,{listingId:a,user:r,title:c,city:i,state:s,listingAvail:{startAvail:j,endAvail:d},avbId:b,photo:h,matchPercentage:u})})},a)}))})}):Object(n.jsx)(n.Fragment,{})},Ke=Object(B.a)((function(e){return Object(M.a)({root:{flexGrow:1,padding:"25px"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},container:{margin:"auto",display:"flex",justifyContent:"center"},search:{padding:"20px",marginBottom:"20px",backgroundColor:"white"},results:{backgroundColor:"white",margin:"auto",display:"flex",justifyContent:"center",alignItems:"flex-start"}})})),Xe=function(){var e=Ke(),t=Object(r.useState)(""),a=Object(j.a)(t,2),c=a[0],i=a[1],s=Object(r.useState)([]),o=Object(j.a)(s,2),l=o[0],u=o[1],d=Object(r.useState)(null),b=Object(j.a)(d,2),h=b[0],m=b[1],p=Object(r.useState)(null),g=Object(j.a)(p,2),O=g[0],x=g[1],f=Object(r.useState)({start:De()().format("YYYY-MM-DD"),end:De()().add(7,"days").format("YYYY-MM-DD")}),v=Object(j.a)(f,2),y=v[0],S=v[1],w=Object(r.useState)(!0),C=Object(j.a)(w,2),A=C[0],k=C[1];return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:e.root,children:Object(n.jsxs)(N.a,{container:!0,className:e.container,spacing:3,children:[Object(n.jsx)(N.a,{item:!0,className:e.search,xs:8,children:Object(n.jsx)(Ye,{xs:6,setLocationQuery:i,onSubmit:function(e){return i(e)},setDefaultView:k,startDate:h,setStartDate:m,endDate:O,setEndDate:x,setDateRange:S})}),A?Object(n.jsx)(N.a,{container:!0,spacing:4,children:Object(n.jsx)(Ve,{})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(N.a,{container:!0,item:!0,className:e.results,xs:8,children:[Object(n.jsx)(Ue,{dateRange:y,locationQuery:c,handleAvailListings:[l,u]}),Object(n.jsx)(We,{locationQuery:c,listings:l})]})})]})})})},Ze=a(649),_e=a(3),$e=a.n(_e),et=a(677),tt=a(650),at=a(651),nt=a(652),rt=a(684),ct=a(648),it=a(10),st=a(680),ot=a(69),lt=a.n(ot),ut=Object(it.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(st.a),jt=Object(B.a)((function(e){return Object(M.a)({root:{flexGrow:1,padding:e.spacing(0,3)},large:{width:e.spacing(7),height:e.spacing(7)},paper:{maxWidth:800,margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)}})})),dt=function(e){var t=e.allReviews,a=(e.listingId,e.reviewer,jt());return Object(n.jsx)(Ze.a,{children:t.map((function(e){return Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)(pe.a,{className:a.paper,elevation:0,children:Object(n.jsxs)(N.a,{container:!0,wrap:"nowrap",spacing:2,children:[Object(n.jsx)(N.a,{item:!0,children:Object(n.jsx)(rt.a,{className:a.large,src:e.user.profilePhoto})}),Object(n.jsxs)(N.a,{item:!0,xs:!0,children:[Object(n.jsxs)(Q.a,{variant:"overline",display:"block",component:"legend",children:[Object(n.jsx)(v.a,{component:"fieldset",fontWeight:"fontWeightBold",borderColor:"transparent",m:1,children:e.user.firstName}),Object(n.jsx)(v.a,{component:"fieldset",borderColor:"transparent",m:1,children:Object(n.jsx)(ut,{icon:Object(n.jsx)(lt.a,{fontSize:"small"}),name:"read-only",value:e.guestRating,readOnly:!0})})]}),Object(n.jsx)(Q.a,{children:Object(n.jsx)(v.a,{fontSize:13,m:2,children:e.guestComments})})]})]})}),Object(n.jsx)(ct.a,{light:!1,orientation:"horizontal"})]})}))})},bt=Object(it.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(st.a),ht=Object(B.a)((function(e){return Object(M.a)({root:{flexGrow:1,padding:e.spacing(0,3)},large:{width:e.spacing(7),height:e.spacing(7)},paper:{maxWidth:800,margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)}})})),mt=function(e){var t=e.allReviews,a=(e.listingId,e.reviewer,ht());return Object(n.jsx)(Ze.a,{children:t.map((function(e){return Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)(pe.a,{className:a.paper,elevation:0,children:Object(n.jsxs)(N.a,{container:!0,wrap:"nowrap",spacing:2,children:[Object(n.jsx)(N.a,{item:!0,children:Object(n.jsx)(rt.a,{className:a.large,src:e.user.profilePhoto})}),Object(n.jsxs)(N.a,{item:!0,xs:!0,children:[Object(n.jsxs)(Q.a,{variant:"overline",display:"block",component:"legend",children:[Object(n.jsx)(v.a,{component:"fieldset",fontWeight:"fontWeightBold",borderColor:"transparent",m:1,children:e.user.firstName}),Object(n.jsx)(v.a,{component:"fieldset",borderColor:"transparent",m:1,children:Object(n.jsx)(bt,{icon:Object(n.jsx)(lt.a,{fontSize:"small"}),name:"read-only",value:e.hostRating,readOnly:!0})})]}),Object(n.jsx)(Q.a,{children:Object(n.jsx)(v.a,{fontSize:13,m:2,children:e.hostComments})})]})]})}),Object(n.jsx)(ct.a,{light:!1,orientation:"horizontal"})]})}))})};function pt(e){var t=e.children,a=e.value,r=e.index;return Object(n.jsx)("div",{role:"tabpanel",hidden:a!==r,children:a===r&&Object(n.jsx)(v.a,{p:3,children:Object(n.jsx)(Q.a,{children:t})})})}pt.defaultProps={children:$e.a.string};var gt=Object(B.a)((function(e){return{main:{marginTop:"10px",marginBottom:"10px"},root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}})),Ot=function(e){var t=e.listingId,a=gt(),c=Object(r.useState)(0),i=Object(j.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)([]),u=Object(j.a)(l,2),d=u[0],h=u[1],m=Object(r.useState)(),p=Object(j.a)(m,2),g=p[0];p[1];return Object(r.useEffect)((function(){b.a.get("/reviews/getReviews/".concat(t)).then((function(e){h(e.data)})).catch((function(e){return e.message}))}),[]),Object(n.jsx)(N.a,{container:!0,spacing:2,className:a.main,direction:"row",justify:"center",children:Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsxs)(pe.a,{className:a.root,children:[Object(n.jsx)(w.a,{position:"static",color:"default",children:Object(n.jsxs)(et.a,{value:s,onChange:function(e,t){o(t)},indicatorColor:"secondary",textColor:"primary",centered:!0,children:[Object(n.jsx)(tt.a,{fullWidth:!0,label:"Host",icon:Object(n.jsx)(at.a,{})}),Object(n.jsx)(tt.a,{fullWidth:!0,label:"Guest",icon:Object(n.jsx)(nt.a,{})})]})}),Object(n.jsx)(pt,{value:s,index:0,children:Object(n.jsx)(dt,{listingId:t,allReviews:d,reviewer:g})}),Object(n.jsx)(pt,{value:s,index:1,children:Object(n.jsx)(mt,{listingId:t,allReviews:d,reviewer:g})})]})})})},xt=a(685),ft=a(653),vt=a(654),yt=a(655),St=a(656),wt=a(657),Ct=a(658),Nt=a(659),At=a(660),kt=a(661),It=Object(B.a)((function(e){return Object(M.a)({root:{flexGrow:1,padding:"25px"},table:{minWidth:650,alignItems:"left"},imageStyle:{width:"500px",height:"350px",margin:"auto",overflow:"hidden",position:"relative",display:"flex",alignItems:"center"},imgStyle:{margin:"auto",display:"block",position:"absolute",objectFit:"cover",width:"100%",height:"100%"},msg:{padding:10,textAlign:"center",marginBottom:10},paper:{padding:e.spacing(2)}})})),Dt=function(e){var t=e.listingId,a=It(),c=Object(r.useState)({listingTitle:null,listingDescription:null,listingAddress:null,listingCity:null,listingState:null,ada:null,internet:null,pets:null,privateBath:null,roommates:null,smoking:null,hostId:null}),i=Object(j.a)(c,2),s=i[0],o=i[1],d=Object(r.useState)([""]),h=Object(j.a)(d,2),m=(h[0],h[1]),p=Object(r.useState)(""),g=Object(j.a)(p,2),O=g[0],x=g[1],f=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,r,c,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=s.ada,n=s.internet,r=s.pets,c=s.privateBath,i=s.roommates,o=s.smoking,a&&t.push("ada"),n&&t.push("wifi"),r&&t.push("pets"),c&&t.push("bath"),i&&t.push("roommates"),o&&t.push("smoking"),m(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){b.a.get("/listing/user/".concat(t)).then((function(e){var t=e.data,a=t.listingTitle,n=t.listingDescription,r=t.listingAddress,c=t.listingCity,i=t.listingState,s=t.ada,l=t.internet,u=t.pets,j=t.privateBath,d=t.roommates,h=t.smoking;o({listingTitle:a,listingDescription:n,listingAddress:r,listingCity:c,listingState:i,ada:s,internet:l,pets:u,privateBath:j,roommates:d,smoking:h}),f(),b.a.get("/listingPhotos/".concat(e.data.userId)).then((function(e){x(e.data.url)}))})).catch((function(e){return e}))}),[]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)(Q.a,{variant:"h4",children:Object(n.jsx)(v.a,{borderColor:"transparent",m:2,children:s.listingTitle})}),Object(n.jsxs)(N.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1,xs:12,children:[Object(n.jsx)("br",{}),Object(n.jsxs)(N.a,{item:!0,xs:4,children:[Object(n.jsxs)(Q.a,{variant:"overline",display:"block",component:"legend",children:[Object(n.jsx)(v.a,{fontWeight:"fontWeightBold",borderColor:"transparent",textAlign:"left",alignContent:"center",m:1,children:"".concat(s.listingAddress,", ")}),Object(n.jsx)(v.a,{textAlign:"left",alignContent:"center",m:3,children:"".concat(s.listingCity,", ").concat(s.listingState)})]}),Object(n.jsx)(Q.a,{variant:"caption",children:Object(n.jsx)(v.a,{textAlign:"left",children:s.listingDescription})}),Object(n.jsx)("br",{}),Object(n.jsx)(Q.a,{variant:"overline",display:"block",component:"legend",children:Object(n.jsx)(v.a,{fontWeight:"fontWeightBold",borderColor:"transparent",textAlign:"left",m:1,children:"Accommodations"})}),Object(n.jsx)(v.a,{textAlign:"left",children:Object(n.jsx)(xt.a,{className:a.table,"aria-label":"simple table",children:Object(n.jsx)(ft.a,{children:Object(n.jsxs)(vt.a,{children:[Object(n.jsxs)(yt.a,{children:[Object(n.jsx)(St.a,{}),":",s.smoking?" Smoking Allowed":" No Smoking Allowed"]}),Object(n.jsxs)(yt.a,{children:[Object(n.jsx)(wt.a,{}),":",s.privateBath?" Private Bathroom":" Shared Bathroom"]}),Object(n.jsxs)(yt.a,{children:[Object(n.jsx)(Ct.a,{}),":",s.pets?" Pets allowed":" No Pets Allowed"]}),Object(n.jsxs)(yt.a,{children:[Object(n.jsx)(Nt.a,{}),":",s.roommates?" Roommates":" No Roommates"]}),Object(n.jsxs)(yt.a,{children:[Object(n.jsx)(At.a,{}),":",s.internet?" Wifi Access":" No Wifi Available"]}),Object(n.jsxs)(yt.a,{children:[Object(n.jsx)(kt.a,{}),":",s.ada?" ADA Accessible":" Not ADA Accessible"]})]})})})})]}),Object(n.jsx)(N.a,{item:!0,alignItems:"center",className:a.imageStyle,xs:8,justify:"center",children:Object(n.jsx)("img",{src:O,alt:"This person hasn't uploaded any pics of their place yet!",className:a.imgStyle})})]})]})})},Bt=a(664),Mt=a(665),Wt=a(666),Rt=a(667),Pt=a(668),Ft=a(662),Tt=a(663),Yt=function(e){var t=e.handleClose,a=e.handleClickOff,r=e.handleTextChange,c=e.message,i=e.open,s=e.name;return Object(n.jsxs)(S.a,{open:i,onClose:a,fullWidth:!0,maxWidth:"md","aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(C.a,{id:"form-dialog-title",children:"Send ".concat(s," a message!")}),Object(n.jsx)(Ft.a,{children:Object(n.jsx)(Re.a,{autoFocus:!0,multiline:!0,rows:3,variant:"outlined",defaultValue:c,fullWidth:!0,onChange:function(e){return r(e)}})}),Object(n.jsxs)(Tt.a,{children:[Object(n.jsx)(D.a,{onClick:function(e){return t(e,!1)},color:"primary",children:"Cancel"}),Object(n.jsx)(D.a,{onClick:function(e){return t(e,!0)},color:"primary",children:"Send"})]})]})},Et=Object(it.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(st.a),qt=Object(B.a)({root:{maxWidth:500},media:{height:140},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:"20px"},button:{padding:1}}),Gt=function(e){var t=qt(),a=e.hostId,c=e.userId,i=e.avbId,s=e.dates,o=Object(r.useState)({firstName:"",lastName:"",pronouns:"",hostRating:0,id:0,profilePhoto:"",userBio:""}),d=Object(j.a)(o,2),m=d[0],p=d[1],g=Object(r.useState)(!1),O=Object(j.a)(g,2),x=O[0],f=O[1],y=Object(r.useState)(""),S=Object(j.a)(y,2),w=S[0],C=S[1];Object(r.useEffect)((function(){b.a.get("/user/".concat(a)).then((function(e){var t=e.data,a=t.firstName,n=t.lastName,r=t.pronouns,c=t.hostRating,i=t.id,s=t.profilePhoto,o=t.userBio;p({firstName:a,lastName:n,pronouns:r,hostRating:c,id:i,profilePhoto:s,userBio:o})})).catch((function(e){return e}))}),[]);var N=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return n={userId:c,hostId:m.id,newMessage:w,activeThread:0},e.next=4,b.a.get("/message/thread",{params:n}).then((function(e){return e.data.id}));case 4:return r=e.sent,n.activeThread=r,e.next=8,b.a.post("/message/newMessage",{params:n});case 8:C("");case 9:f(!1);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"host-info",children:Object(n.jsxs)(Bt.a,{className:t.root,elevation:0,children:[Object(n.jsxs)(Mt.a,{children:[Object(n.jsx)(Wt.a,{className:t.media,image:m.profilePhoto,title:"Profile Photo",component:h.b,to:{pathname:"/view-hostProfile",state:{hostData:m,userId:c}}}),Object(n.jsxs)(Rt.a,{children:[Object(n.jsx)(Q.a,{children:m.firstName}),Object(n.jsx)(v.a,{component:"fieldset",borderColor:"transparent",m:1,children:Object(n.jsx)(Et,{icon:Object(n.jsx)(lt.a,{fontSize:"small"}),name:"read-only",value:m.hostRating,readOnly:!0})})]})]}),Object(n.jsxs)(Pt.a,{children:[Object(n.jsx)(D.a,{className:t.button,fullWidth:!0,size:"small",variant:"outlined",color:"secondary",onClick:function(){f(!0)},children:"contact"}),Object(n.jsx)(Yt,{handleClose:N,handleClickOff:function(){f(!1)},handleTextChange:function(e){C(e.target.value)},message:w,open:x,name:m.firstName}),Object(n.jsx)(D.a,{className:t.button,fullWidth:!0,size:"small",variant:"outlined",color:"secondary",onClick:function(){var e={userId:c,avbId:i,dates:s};b.a.post("/request/newRequest",{params:e}).catch((function(e){return console.warn(e)}))},children:"request"})]})]})})},Ht=Object(B.a)((function(e){return Object(M.a)({root:{flewGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})})),Qt=function(e){e.user;var t=Ht(),a=Object(m.g)(),c=Object(r.useState)(localStorage.userId),i=Object(j.a)(c,1)[0],s=Object(m.h)().id,o=Object(m.h)().avbId,l=Object(r.useState)(a.state.startAvail),u=Object(j.a)(l,1)[0],d=Object(r.useState)(a.state.endAvail),b=Object(j.a)(d,1)[0];return Object(n.jsx)(Ze.a,{children:Object(n.jsx)("div",{className:t.root,children:Object(n.jsxs)(N.a,{container:!0,justify:"center",alignItems:"flex-start",spacing:3,children:[Object(n.jsxs)(N.a,{item:!0,xs:6,sm:8,children:[Object(n.jsx)(pe.a,{className:t.paper,children:Object(n.jsx)(Dt,{listingId:s})}),Object(n.jsx)(Ot,{listingId:s})]}),Object(n.jsx)(N.a,{item:!0,xs:12,sm:2,children:Object(n.jsx)(pe.a,{className:t.paper,children:Object(n.jsx)(Gt,{hostId:s,userId:i,avbId:o,dates:{startAvail:u,endAvail:b}})})})]})})})},Ut=a(669),Lt=a(686),zt=Object(B.a)({label:{color:"black"}}),Jt=function(e){var t=zt(),a=e.handleClose,r=e.handleClickOff,c=e.handleTextChange,i=e.toggleSwitch,s=e.setPhotoUrl,o=e.open,l=function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var e;e=a.result,b.a.post("http://".concat("localhost",":").concat("3000","/image/newPhoto"),{data:e}).then((function(e){var t=e.data;s(t)})).catch((function(e){return console.warn(e)}))}};return Object(n.jsxs)(S.a,{open:o,onClose:function(){return r("info")},fullWidth:!0,maxWidth:"md","aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(C.a,{id:"form-dialog-title",children:"Edit your Information"}),Object(n.jsxs)(D.a,{variant:"contained",component:"label",children:["Upload Photos",Object(n.jsx)("input",{type:"file",style:{display:"none"},onChange:function(e){return l(e)}})]}),Object(n.jsxs)(Ft.a,{children:[Object(n.jsx)(Re.a,{autoFocus:!0,multiline:!0,variant:"outlined",placeholder:"Whats your address?",onChange:function(e){return c(e,"listingAddress")}}),Object(n.jsx)(Re.a,{autoFocus:!0,multiline:!0,variant:"outlined",placeholder:"City?",onChange:function(e){return c(e,"listingCity")}}),Object(n.jsx)(Re.a,{autoFocus:!0,multiline:!0,variant:"outlined",placeholder:"State?",onChange:function(e){return c(e,"listingState")}}),Object(n.jsx)(Re.a,{autoFocus:!0,multiline:!0,variant:"outlined",placeholder:"Zip Code?",onChange:function(e){return c(e,"listingZipCode")}})]}),Object(n.jsx)(Ft.a,{children:Object(n.jsx)(Re.a,{autoFocus:!0,multiline:!0,variant:"outlined",placeholder:"Give your place a fun title!",fullWidth:!0,onChange:function(e){return c(e,"listingTitle")}})}),Object(n.jsx)(Ft.a,{children:Object(n.jsx)(Re.a,{autoFocus:!0,multiline:!0,rows:3,variant:"outlined",placeholder:"Describe your place!",fullWidth:!0,onChange:function(e){return c(e,"listingDescription")}})}),Object(n.jsxs)(Ft.a,{children:[Object(n.jsx)(A.a,{component:"fieldset",children:Object(n.jsx)(Ut.a,{value:!0,control:Object(n.jsx)(Lt.a,{color:"primary"}),label:"Do you have any pets?",labelPlacement:"start",color:"black",onChange:function(){return i("pets")},classes:{label:t.label}})}),Object(n.jsx)(A.a,{component:"fieldset",children:Object(n.jsx)(Ut.a,{value:!0,control:Object(n.jsx)(Lt.a,{color:"primary"}),label:"Are you a smoker?",labelPlacement:"start",color:"black",onChange:function(){return i("smoking")},classes:{label:t.label}})})]}),Object(n.jsxs)(Ft.a,{children:[Object(n.jsx)(A.a,{component:"fieldset",children:Object(n.jsx)(Ut.a,{value:!0,control:Object(n.jsx)(Lt.a,{color:"primary"}),label:"Do you have roommates?",labelPlacement:"start",color:"black",onChange:function(){return i("roommates")},classes:{label:t.label}})}),Object(n.jsx)(A.a,{component:"fieldset",children:Object(n.jsx)(Ut.a,{value:!0,control:Object(n.jsx)(Lt.a,{color:"primary"}),label:"Do you have access to WiFi?",labelPlacement:"start",color:"black",onChange:function(){return i("internet")},classes:{label:t.label}})})]}),Object(n.jsxs)(Ft.a,{children:[Object(n.jsx)(A.a,{component:"fieldset",children:Object(n.jsx)(Ut.a,{value:!0,control:Object(n.jsx)(Lt.a,{color:"primary"}),label:"Do you have a private bathroom?",labelPlacement:"start",color:"black",onChange:function(){return i("privateBath")},classes:{label:t.label}})}),Object(n.jsx)(A.a,{component:"fieldset",children:Object(n.jsx)(Ut.a,{value:!0,control:Object(n.jsx)(Lt.a,{color:"primary"}),label:"Is your place ADA-compliant?",labelPlacement:"start",color:"black",classes:{label:t.label}})})]}),Object(n.jsxs)(Tt.a,{children:[Object(n.jsx)(D.a,{onClick:function(e){return a(e,!1)},color:"primary",children:"Cancel"}),Object(n.jsx)(D.a,{onClick:function(e){return a(e,!0)},color:"primary",children:"Save"})]})]})},Vt=Object(B.a)((function(e){return Object(M.a)({root:{flexGrow:1,padding:"25px"},component:{backgroundColor:"white",margin:"auto",display:"flex",justifyContent:"center",paddingBottom:100},container:{margin:"auto",display:"flex",justifyContent:"center"},greeting:{padding:10},upcoming:{backgroundColor:"rgba(249, 201, 79, 0.4)",padding:10,textAlign:"center",marginBottom:10,border:"2px black"},requests:{backgroundColor:"rgba(249, 201, 79, 0.8)",padding:10,textAlign:"center",marginBottom:10},msg:{padding:10,textAlign:"center",marginBottom:10},randomBtn:{backgroundColor:"10px",border:"1px",borderRadius:"2px",margin:"auto",padding:10}})})),Kt=function(e){var t=Object(j.a)(e.handleLogin,1)[0],a=e.user,c=Vt(),i=Object(r.useState)([]),s=Object(j.a)(i,2),o=s[0],d=s[1],m=Object(r.useState)(0),p=Object(j.a)(m,2),g=p[0],O=p[1],x=Object(r.useState)(0),f=Object(j.a)(x,2),v=f[0],y=f[1],S=Object(r.useState)(0),w=Object(j.a)(S,2),C=w[0],A=w[1],k=Object(r.useState)(""),I=Object(j.a)(k,2),B=I[0],M=I[1],W=Object(r.useState)(""),R=Object(j.a)(W,2),P=(R[0],R[1]),F=Object(r.useState)(""),T=Object(j.a)(F,2),Y=(T[0],T[1]),E=Object(r.useState)(a.id),q=Object(j.a)(E,2),G=q[0],H=(q[1],Object(r.useState)(!1)),U=Object(j.a)(H,2),L=U[0],z=U[1],J=Object(r.useState)(!1),V=Object(j.a)(J,2),K=V[0],X=V[1],Z=Object(r.useState)("listing"),_=Object(j.a)(Z,2),$=_[0],ee=_[1],te=Object(r.useState)("address"),ae=Object(j.a)(te,2),ne=ae[0],re=ae[1],ce=Object(r.useState)("city"),ie=Object(j.a)(ce,2),se=ie[0],oe=ie[1],le=Object(r.useState)("state"),ue=Object(j.a)(le,2),je=ue[0],de=ue[1],be=Object(r.useState)("zip"),he=Object(j.a)(be,2),me=he[0],pe=he[1],ge=Object(r.useState)("title"),Oe=Object(j.a)(ge,2),xe=Oe[0],fe=Oe[1],ve=Object(r.useState)(!1),ye=Object(j.a)(ve,2),Se=ye[0],we=ye[1],Ce=Object(r.useState)(!1),Ne=Object(j.a)(Ce,2),Ae=Ne[0],ke=Ne[1],Ie=Object(r.useState)(!1),Be=Object(j.a)(Ie,2),Me=Be[0],We=Be[1],Re=Object(r.useState)(!1),Pe=Object(j.a)(Re,2),Fe=Pe[0],Te=Pe[1],Ye=Object(r.useState)(!1),Ee=Object(j.a)(Ye,2),qe=Ee[0],Ge=Ee[1],He=Object(r.useState)(!1),Qe=Object(j.a)(He,2),Ue=Qe[0],Le=Qe[1],ze=Object(r.useState)(""),Je=Object(j.a)(ze,2),Ve=Je[0],Ke=Je[1],Xe=Object(r.useState)(),_e=Object(j.a)(Xe,2),$e=(_e[0],_e[1]),et=Object(r.useState)(),tt=Object(j.a)(et,2),at=(tt[0],tt[1]),nt=function(){b.a.get("/dashboardInfo",{params:{userId:localStorage.userId}}).then((function(e){var t=e.data,a=t.confirmedSwapCount,n=t.pendingRequests,r=t.openAvailabilities;y(a),A(n.count),d(r);if(O(0),o.length){var c=o[g],i=c.id,s=c.listingId;M("".concat(s,"/").concat(i))}}))},rt=function(e,t){"listingDescription"===t?ee(e.target.value):"listingAddress"===t?re(e.target.value.toLowerCase()):"listingCity"===t?oe(e.target.value.toLowerCase()):"listingState"===t?de(e.target.value.toLowerCase()):"listingZipCode"===t?pe(e.target.value):"listingTitle"===t&&fe(e.target.value)},ct=function(){X(!0)},it=function(e,t){t&&b.a.post("/listing",{listingAddress:ne,listingCity:se,listingState:je,listingZipCode:me,listingTitle:xe,listingDescription:$,pets:Se,ada:Ae,smoking:Me,roommates:Fe,internet:qe,privateBath:Ue,userId:G,photoUrl:Ve}).then((function(){nt(),z(!0)})).catch((function(e){return console.warn(e)})),X(!1)},st=function(e){"pets"===e?we(!Se):"ada"===e?ke(!Ae):"smoking"===e?We(!Me):"roommates"===e?Te(!Fe):"internet"===e?Ge(!qe):"privateBath"===e&&Le(!Ue)},ot=function(){X(!1)},lt=function(){var e=Object(u.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"localhost","3000",e.next=5,fetch("http://".concat("localhost",":").concat("3000","/dashboard"),{method:"POST",headers:{jwt_token:localStorage.token,email:a.email}});case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,t(!0),P(r.email),Y(r.firstName),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.warn(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("listing/user/".concat(G)).then((function(e){e.data&&z(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(){O(function(){var e=o.length;return Math.floor(Math.random()*e)}());var e=o[g],t=e.id,a=e.listingId,n=e.startDate,r=e.endDate;M("".concat(a,"/").concat(t)),$e(n),at(r)},dt="hi ".concat(a.firstName,","),bt="You have ".concat(v," upcoming trips"),ht="You have ".concat(C," requests to swap rooms");Object(r.useEffect)((function(){nt(),lt(),ut()}),[]);return Object(n.jsx)(Ze.a,{className:c.root,children:Object(n.jsx)(N.a,{container:!0,className:c.component,xs:11,spacing:3,children:Object(n.jsxs)(N.a,{container:!0,item:!0,className:c.container,xs:8,children:[Object(n.jsx)(N.a,{item:!0,className:c.greeting,xs:10,children:Object(n.jsx)(Q.a,{variant:"h3",children:dt})}),Object(n.jsx)(N.a,{item:!0,className:c.upcoming,xs:10,children:Object(n.jsx)(Q.a,{variant:"h5",children:bt})}),Object(n.jsx)(N.a,{item:!0,className:c.requests,xs:10,children:Object(n.jsx)(Q.a,{variant:"h5",children:ht})}),function(){if(L&&o.length){var e={startDate:De()(o[g].startDate,"YYYY-MM-DD").format("dddd, MMM Do YYYY"),endDate:De()(o[g].endDate,"YYYY-MM-DD").format("dddd, MMM Do YYYY")};return Object(n.jsxs)(N.a,{item:!0,className:c.msg,xs:10,children:[Object(n.jsxs)(N.a,{item:!0,xs:12,style:{paddingBottom:5},children:[Object(n.jsx)(Q.a,{variant:"body1",children:"need some plans?"}),o.length>0&&Object(n.jsxs)(N.a,{container:!0,item:!0,xs:12,children:[Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsx)(Q.a,{variant:"body1",children:"".concat(o[g].hostName," has a room open in ").concat(o[g].city)})}),Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsx)(Q.a,{variant:"body1",children:"".concat(e.startDate," to ").concat(e.endDate)})})]})]}),Object(n.jsx)(h.b,{to:"/view-listing/".concat(B),children:Object(n.jsx)(D.a,{className:c.randomBtn,type:"button",component:h.b,to:{pathname:"/view-listing/".concat(B),state:{startAvail:o[g]?o[g].startDate:"0",endAvail:o[g]?o[g].endDate:"0"}},children:"View Listing!"})}),Object(n.jsx)(D.a,{className:c.randomBtn,type:"submit",onClick:jt,children:"Show me another!"})]})}return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(N.a,{item:!0,className:c.msg,xs:10,children:[Object(n.jsx)(N.a,{item:!0,xs:12,style:{paddingBottom:5},children:Object(n.jsx)(Q.a,{variant:"body1",children:"it's probably because you don't have a listing yet..."})}),Object(n.jsxs)(N.a,{item:!0,xs:12,children:[Object(n.jsx)(D.a,{variant:"contained",color:"primary",onClick:ct,children:"Let's fix that!"}),Object(n.jsx)(Jt,{handleClose:it,handleClickOff:ot,handleTextChange:rt,toggleSwitch:st,setPhotoUrl:Ke,open:K})]})]})})}()]})})})},Xt=a(647),Zt=a(302),_t=a.n(Zt),$t=a(186),ea=Object(B.a)({main:{borderStyle:"none none solid none",borderWidth:"thin"}}),ta=function(e){var t=e.thread,a=e.userId,c=e.setActiveThread,i=e.setThreadName,s=e.threadSocket,o=e.activeThread,l=(ea(),Object(r.useState)("")),u=Object(j.a)(l,2),d=u[0],h=u[1];Object(r.useEffect)((function(){var e={thread:t,userId:a};b.a.get("message/getName/",{params:e}).then((function(e){var t=e.data;return h(t)})).catch((function(e){return console.warn(e.message)}))}),[]);return Object(n.jsx)(D.a,{onClick:function(){return e=t,null===s||void 0===s||s.emit("leave",o),i(d),void c(e);var e},children:Object(n.jsx)(N.a,{children:d})})},aa=Object(B.a)({main:{borderStyle:"none none solid none",borderWidth:"thin",padding:"0px"}}),na=function(e){var t=e.threads,a=e.userId,r=e.setActiveThread,c=e.setName,i=e.threadSocket,s=e.activeThread,o=aa();return Object(n.jsx)(n.Fragment,{children:t.map((function(e){return Object(n.jsx)(N.a,{className:o.main,children:Object(n.jsx)(ta,{thread:e,setActiveThread:r,setThreadName:c,userId:a,threadSocket:i,activeThread:s})})}))})},ra=Object(B.a)({sent:{textAlign:"right",paddingLeft:"35%",paddingRight:"2%",display:"flex",justifyContent:"flex-end"},received:{textAlign:"left",paddingRight:"35%",paddingLeft:"2%",display:"flex",justifyContent:"flex-start"},senderBubble:{border:"0.5px solid black",borderRadius:"10px",margin:"5px",padding:"10px",display:"inline-block",backgroundColor:"#7ad9ec"},receivedBubble:{border:"0.5px solid black",borderRadius:"10px",margin:"5px",padding:"10px",display:"inline-block",backgroundColor:"#fac94f"}}),ca=function(e){var t=e.message,a=ra(),c=Object(r.useState)(t),i=Object(j.a)(c,1)[0];return Object(r.useEffect)((function(){}),[i]),Object(n.jsx)(v.a,{className:t.sender?a.sent:a.received,children:Object(n.jsx)(v.a,{className:t.sender?a.senderBubble:a.receivedBubble,children:t.body})})},ia=function(e){var t=e.thread,a=e.userId,c=e.stb,i=e.socket,s=Object(r.useState)([{body:"",sender:!0}]),o=Object(j.a)(s,2),d=o[0],h=o[1],m=function(){var e=Object(u.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={thread:t,userId:a},e.next=3,b.a.get("message/getMessages",{params:n}).then((function(e){return e.data}));case 3:r=e.sent,h(r),c();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){m()}),[t]),Object(r.useEffect)((function(){i&&(i.emit("room",t),i.on("message",(function(e){m()})))}),[t]);return Object(n.jsx)(n.Fragment,{children:d.map((function(e){return Object(n.jsx)(ca,{message:e})}))})},sa=Object(B.a)({main:{borderStyle:"solid",borderWidth:"thin",borderRadius:"10px",align:"center",justify:"center",height:"100%"},outer:{marginTop:"25px",marginBottom:"10px",align:"center",justify:"center",height:"90vh",backgroundColor:"white",paddingTop:"10px",paddingBottom:"10px"},rightBorder:{borderStyle:"none solid none none",borderWidth:"thin"},scrollStyle:{overflow:"auto",maxHeight:"85%",display:"flex",flexDirection:"column-reverse"},messageListStyle:{maxHeight:"100%",position:"relative"},newMessageStyle:{position:"absolute",bottom:"0",width:"100%",maxHeight:"10%",minHeight:"10%",borderStyle:"solid none none none",borderWidth:"thin",display:"flex",alignItems:"center"},currentThreadStyle:{width:"100%",height:"37px",borderStyle:"none none solid none",borderWidth:"thin",display:"flex",alignItems:"center",justifyContent:"center"}}),oa=function(e){var t=e.user,a=sa(),c=Object(r.useState)([]),i=Object(j.a)(c,2),s=i[0],o=i[1],d=Object(r.useState)(0),h=Object(j.a)(d,2),m=h[0],p=h[1],g=Object(r.useState)(""),O=Object(j.a)(g,2),x=O[0],f=O[1],v=Object(r.useState)(""),y=Object(j.a)(v,2),S=y[0],w=y[1],C=Object(r.useState)(null),k=Object(j.a)(C,2),D=k[0],B=k[1],M=Object(r.useRef)(null),W=function(){var e=Object(u.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={thread:m,userId:t.id},e.next=3,b.a.get("/message/getThreads/".concat(t.id)).then((function(e){var t,n=e.data;o(n),t=n[0],B(Object($t.io)("localhost:3000")),p(t);var r=n[0];a.thread=r})).catch((function(e){return console.warn(e.message)}));case 3:return e.next=5,b.a.get("message/getName/",{params:a}).then((function(e){var t=e.data;return w(t)})).catch((function(e){return console.warn(e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){W()}),[]);var P=function(){var e=Object(u.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={activeThread:m,newMessage:x,userId:t.id},e.next=3,b.a.post("/message/newMessage",{params:a});case 3:(n=Object($t.io)("localhost:3000")).on("connect",(function(){n.emit("room",m)})),n.emit("message",{room:m,msg:x}),n.on("message",(function(){n.disconnect()})),f("");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(Ze.a,{className:a.outer,children:Object(n.jsxs)(N.a,{container:!0,className:a.main,justify:"center",children:[Object(n.jsx)(N.a,{item:!0,xs:3,className:a.rightBorder,children:Object(n.jsx)(na,{threads:s,setActiveThread:p,setName:w,userId:t.id,threadSocket:D,activeThread:m})}),Object(n.jsxs)(N.a,{item:!0,xs:9,className:a.messageListStyle,children:[Object(n.jsx)(N.a,{className:a.currentThreadStyle,children:"Your message history with ".concat(S)}),Object(n.jsx)(N.a,{className:a.scrollStyle,children:Object(n.jsxs)(N.a,{children:[Object(n.jsx)(ia,{thread:m,userId:t.id,stb:function(){M.current&&M.current.scrollIntoView()},socket:D}),Object(n.jsx)("div",{ref:M})]})}),Object(n.jsx)(N.a,{className:a.newMessageStyle,children:Object(n.jsx)(A.a,{fullWidth:!0,children:Object(n.jsx)(Xt.a,{id:"message-box",placeholder:"Send a message",type:"text",value:x,onChange:function(e){return function(e){f(e.target.value)}(e)},onKeyPress:function(e){"Enter"===e.key&&P()},disableUnderline:!0,multiline:!0,margin:"dense",endAdornment:Object(n.jsx)(R.a,{position:"end",children:Object(n.jsx)(I.a,{"aria-label":"send-message",onClick:P,children:Object(n.jsx)(_t.a,{})})})})})})]})]})})},la=a(670),ua=a(310),ja=a(671),da=a(303),ba=a.n(da),ha=a(304),ma=a.n(ha);function pa(){return(pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ga(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Oa=r.createElement("text",{transform:"translate(0 27.51)",fontSize:31.75,fill:"#e9f6f9",fontFamily:"FredokaOne-Regular, Fredoka One",letterSpacing:"0.03em"},"goldilocks");function xa(e,t){var a=e.title,n=e.titleId,c=ga(e,["title","titleId"]);return r.createElement("svg",pa({width:162.35,height:35,viewBox:"0 0 162.35 35",ref:t,"aria-labelledby":n},c),void 0===a?r.createElement("title",{id:n},"ice_spacing"):a?r.createElement("title",{id:n},a):null,Oa)}var fa=r.forwardRef(xa),va=(a.p,Object(B.a)({root:{flexGrow:1,background:"#8b98de"},icons:{marginLeft:7,marginRight:7,maxHeight:35,maxWidth:35},grow:{flexGrow:1},logo:{maxHeight:35,marginRight:5}})),ya=function(e){var t=Object(j.a)(e.handleLogin,1)[0],a=Object(j.a)(e.toggleMode,2),c=a[0],i=a[1],s=va(),o=Object(r.useState)(null),d=Object(j.a)(o,2),b=d[0],m=d[1],p=Object(r.useState)(localStorage.profilePhoto),g=Object(j.a)(p,1)[0],x=Object(r.useState)(localStorage.firstName[0]),f=Object(j.a)(x,1)[0],v=function(){m(null)},y=function(){var e=Object(u.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault();try{localStorage.clear(),v(),t(!1),O.a.success("Successfully logged out!")}catch(n){console.warn(n.message)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"toggle-container",children:Object(n.jsx)(w.a,{className:s.root,position:"static",children:Object(n.jsxs)(la.a,{variant:"dense",children:[Object(n.jsx)(fa,{className:s.logo}),Object(n.jsx)(Q.a,{component:h.b,to:"/",color:"inherit",children:Object(n.jsx)("img",{src:"data:image/png;base64,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",alt:"logo",className:s.logo})}),Object(n.jsx)("div",{className:s.grow}),Object(n.jsx)(I.a,{component:h.b,to:"/view-searches",color:"inherit",children:Object(n.jsx)(ba.a,{className:"icon"})}),Object(n.jsx)(I.a,{"aria-controls":"customized-menu","aria-haspopup":"true",color:"inherit",onClick:function(e){m(e.currentTarget)},children:Object(n.jsx)(ma.a,{className:"icon"})}),Object(n.jsxs)(ua.a,{id:"customized-menu",anchorEl:b,keepMounted:!0,open:Boolean(b),onClose:v,elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(n.jsx)(ja.a,{component:h.b,to:"/view-messages",color:"inherit",onClick:v,children:"Messages"}),Object(n.jsx)(ja.a,{component:h.b,to:"/view-swaps",color:"inherit",onClick:v,children:"View swaps"}),Object(n.jsx)(ja.a,{component:h.b,to:"/view-calendar",color:"inherit",onClick:v,children:"Set availability"}),Object(n.jsx)(ja.a,{component:h.b,to:"/view-bulletins",color:"inherit",onClick:v,children:"Bulletin board"}),Object(n.jsx)(ja.a,{component:h.b,to:"/view-invites",color:"inherit",onClick:v,children:"Invite friends"}),Object(n.jsx)(ja.a,{component:h.b,to:"/invite",color:"inherit",onClick:function(e){return y(e)},children:"Logout"})]}),Object(n.jsx)(h.c,{to:"/view-profile",children:Object(n.jsx)(rt.a,{className:s.icons,alt:f,src:g})}),Object(n.jsx)(Lt.a,{checked:c,onChange:function(){return i((function(e){return!e}))},name:"toggleMode",inputProps:{"aria-label":"toggle between light and dark mode"}})]})})})},Sa=a(121),wa=a.n(Sa),Ca=a(305),Na=a.n(Ca),Aa=function(e){var t=e.handleClose,a=e.handleClickOff,r=e.picOpen,c=function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var e;e=a.result,b.a.put("http://".concat("localhost",":").concat("3000","/image/editProfilePic/").concat(localStorage.userId),{data:e}).then((function(e){var t=e.data;localStorage.setItem("profilePhoto",t)})).catch((function(e){return console.warn(e)}))}};return Object(n.jsxs)(S.a,{open:r,onClose:function(){return a("pic")},fullWidth:!0,maxWidth:"md","aria-labelledby":"form-dialog-title",children:[Object(n.jsxs)(D.a,{variant:"contained",component:"label",children:["Update Profile Photo",Object(n.jsx)("input",{type:"file",style:{display:"none"},onChange:function(e){return c(e)}})]}),Object(n.jsxs)(Tt.a,{children:[Object(n.jsx)(D.a,{onClick:function(e){return t(e,!1,"pic")},color:"primary",children:"Cancel"}),Object(n.jsx)(D.a,{onClick:function(e){return t(e,!0,"pic")},color:"primary",children:"Update"})]})]})},ka=function(e){var t=e.handleClose,a=e.handleClickOff,r=e.handleTextChange,c=e.name,i=e.pronouns,s=e.infoOpen;return Object(n.jsxs)(S.a,{open:s,onClose:function(){return a("info")},fullWidth:!0,maxWidth:"md","aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(C.a,{id:"form-dialog-title",children:"Edit your Information"}),Object(n.jsx)(Ft.a,{children:Object(n.jsx)(Re.a,{autoFocus:!0,multiline:!0,rows:3,variant:"outlined",label:"Name",defaultValue:c,fullWidth:!0,onChange:function(e){return r(e,"name")}})}),Object(n.jsx)(Ft.a,{children:Object(n.jsx)(Re.a,{autoFocus:!0,multiline:!0,rows:3,variant:"outlined",label:"Preferred pronouns",defaultValue:i,fullWidth:!0,onChange:function(e){return r(e,"pronouns")}})}),Object(n.jsxs)(Tt.a,{children:[Object(n.jsx)(D.a,{onClick:function(e){return t(e,!1,"info")},color:"primary",children:"Cancel"}),Object(n.jsx)(D.a,{onClick:function(e){return t(e,!0,"info")},color:"primary",children:"Save"})]})]})},Ia=Object(B.a)({main:{backgroundColor:"white",justifyContent:"center",maxWidth:"100%"},imgStyle:{height:"100%",width:"100%",padding:"10px 10px 5px"},infoStyle:{justifyContent:"center",marginTop:"5px",marginBottom:"5px"},textStyle:{textAlign:"center",justifyContent:"center",wordWrap:"break-word"},buttonStyle:{padding:"5px 10px 10px",justifyContent:"center",display:"flex"},overlayStyle:{color:"black",position:"absolute",bottom:"0",right:"0",opacity:".25"},editStyle:{position:"absolute",bottom:"0",right:"0"},picOverlayStyle:{position:"relative","&:hover":{"& $overlayStyle":{opacity:"1"}}}}),Da=function(e){var t=e.user,a=Ia(),c=Object(r.useState)(!1),i=Object(j.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)(!1),u=Object(j.a)(l,2),d=u[0],b=u[1],h=Object(r.useState)(t.profilePhoto),m=Object(j.a)(h,2),p=m[0],g=m[1],O=Object(r.useState)(t.firstName),x=Object(j.a)(O,2),f=x[0],v=x[1],y=Object(r.useState)(t.pronouns),S=Object(j.a)(y,2),w=S[0],C=S[1],A=Object(r.useState)("New Orleans, LA"),k=Object(j.a)(A,2),D=k[0],B=(k[1],Object(r.useState)(p)),M=Object(j.a)(B,2),W=M[0],R=M[1],P=Object(r.useState)(t.firstName),F=Object(j.a)(P,2),T=F[0],Y=F[1],E=Object(r.useState)(t.pronouns),q=Object(j.a)(E,2),G=q[0],H=q[1],Q=function(e){"pic"===e?o(!0):b(!0)},U=function(e,t,a){"pic"===a?(t&&g(W),o(!1)):(t&&(f!==T&&v(T),w!==G&&C(G)),b(!1))},L=function(e){"pic"===e?o(!1):b(!1)},z=function(e,t){"pic"===t?R(e.target.value):"name"===t?Y(e.target.value):"pronouns"===t&&H(e.target.value)};return Object(n.jsxs)(Ze.a,{className:a.main,disableGutters:!0,children:[Object(n.jsxs)(N.a,{item:!0,xs:12,className:a.picOverlayStyle,children:["undefined"===p?Object(n.jsx)(Na.a,{className:a.imgStyle}):Object(n.jsx)("img",{src:p,alt:"ya dun goofed",className:a.imgStyle}),Object(n.jsx)(I.a,{className:a.editStyle,onClick:function(){return Q("pic")},children:Object(n.jsx)(wa.a,{className:a.overlayStyle})}),Object(n.jsx)(Aa,{handleClose:U,handleClickOff:L,handleTextChange:z,pic:p,picOpen:s})]}),Object(n.jsx)(N.a,{item:!0,xs:12,className:a.picOverlayStyle,children:Object(n.jsxs)(Ze.a,{className:a.infoStyle,disableGutters:!0,children:[Object(n.jsx)(N.a,{container:!0,className:a.textStyle,children:"".concat(f," (").concat(w,")")}),Object(n.jsx)(N.a,{container:!0,className:a.textStyle,children:D}),Object(n.jsx)(I.a,{className:a.editStyle,onClick:function(){return Q("info")},children:Object(n.jsx)(wa.a,{className:a.overlayStyle})}),Object(n.jsx)(ka,{handleClose:U,handleClickOff:L,handleTextChange:z,name:f,pronouns:w,infoOpen:d,picOpen:s})]})})]})},Ba=function(e){var t=e.handleClose,a=e.handleClickOff,r=e.handleTextChange,c=e.bio,i=e.open;return Object(n.jsxs)(S.a,{open:i,onClose:a,fullWidth:!0,maxWidth:"md","aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(C.a,{id:"form-dialog-title",children:"Edit your Bio"}),Object(n.jsx)(Ft.a,{children:Object(n.jsx)(Re.a,{autoFocus:!0,multiline:!0,rows:3,variant:"outlined",defaultValue:c,fullWidth:!0,onChange:function(e){return r(e)}})}),Object(n.jsxs)(Tt.a,{children:[Object(n.jsx)(D.a,{onClick:function(e){return t(e,!1)},color:"primary",children:"Cancel"}),Object(n.jsx)(D.a,{onClick:function(e){return t(e,!0)},color:"primary",children:"Save"})]})]})},Ma=Object(B.a)({main:{backgroundColor:"white",align:"center",justify:"center"},buttonStyle:{padding:"5px 10px 10px",justifyContent:"center",display:"flex"},infoStyle:{position:"relative",justifyContent:"center",width:"50%",marginTop:"5px",marginBottom:"5px","&:hover":{"& $overlayStyle":{opacity:"1"}}},imgStyle:{height:"50%",width:"50%",padding:"10px 10px 5px"},overlayStyle:{color:"black",position:"absolute",bottom:"0",right:"0",opacity:".25"},editStyle:{position:"absolute",bottom:"0",right:"0"},contStyle:{textAlign:"center"},botMargStyle:{marginBottom:"10px"}}),Wa=function(e){var t=e.user,a=e.setUser,c=Ma(),i=Object(r.useState)(!1),s=Object(j.a)(i,2),o=s[0],d=s[1],m=Object(r.useState)(t.userBio),p=Object(j.a)(m,2),g=p[0],O=p[1],x=Object(r.useState)(g),f=Object(j.a)(x,2),v=f[0],y=f[1],S=Object(r.useState)(!0),w=Object(j.a)(S,2),C=w[0],A=w[1],k=Object(r.useState)(""),B=Object(j.a)(k,2),M=B[0],W=B[1],R=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("listing/user/".concat(t.id)).then((function(e){var t=e.data;return t?t.id:(A(!1),0)}));case 2:if(!(e.sent>0)){e.next=6;break}return e.next=6,b.a.get("listingPhotos/".concat(t.id)).then((function(e){var t=e.data;t&&W(t.url)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){R()}),[]);var P=function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var e;e=a.result,b.a.post("http://".concat("localhost",":").concat("3000","/image/addListingPhoto/").concat(localStorage.userId),{data:e}).then((function(e){var t=e.data;localStorage.setItem("profilePhoto",t),W(t)})).catch((function(e){return console.warn(e)}))}};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Ze.a,{className:c.main,children:[C?M?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(N.a,{container:!0,justify:"center",item:!0,xs:12,children:Object(n.jsx)("img",{src:M,alt:"nobodys home",className:c.imgStyle})})}):Object(n.jsxs)(Ze.a,{className:c.contStyle,children:[Object(n.jsx)(N.a,{className:c.botMargStyle,children:"It looks like there aren't any photos of your place yet."}),Object(n.jsxs)(D.a,{variant:"contained",component:"label",color:"primary",className:c.botMargStyle,children:["Upload a photo",Object(n.jsx)("input",{type:"file",style:{display:"none"},onChange:function(e){return P(e)}})]})]}):Object(n.jsxs)(Ze.a,{className:c.contStyle,children:[Object(n.jsx)(N.a,{className:c.botMargStyle,children:"It looks like you haven't made a listing yet."}),Object(n.jsx)(h.b,{to:"/dashboard",children:Object(n.jsx)(D.a,{variant:"contained",color:"primary",className:c.botMargStyle,children:"Create a listing"})})]}),Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsxs)(Ze.a,{className:c.infoStyle,children:[g,Object(n.jsx)(I.a,{className:c.editStyle,onClick:function(){d(!0)},children:Object(n.jsx)(wa.a,{className:c.overlayStyle})}),Object(n.jsx)(Ba,{handleClose:function(e,n){if(n){b.a.patch("user/bio/".concat(t.id),{params:{newBio:v}});var r=Object(Ee.a)({},t);r.userBio=v,a&&a(r),localStorage.setItem("userBio",v),O(v)}d(!1)},handleClickOff:function(){d(!1)},handleTextChange:function(e){y(e.target.value)},bio:g,open:o})]})})]})})},Ra=Object(B.a)({main:{marginTop:"10px",marginBottom:"10px",paddingBottom:"10px"}}),Pa=function(e){var t=e.user,a=e.setUser,r=Ra();return Object(n.jsx)(Ze.a,{children:Object(n.jsxs)(N.a,{container:!0,spacing:2,className:r.main,direction:"row",justify:"center",children:[Object(n.jsx)(N.a,{item:!0,xs:3,children:Object(n.jsx)(Da,{user:t})}),Object(n.jsx)(N.a,{item:!0,xs:9,children:Object(n.jsx)(Wa,{user:t,setUser:a})})]})})},Fa=a(311),Ta=a(312),Ya=a(313),Ea=Object(B.a)({calendarMain:{height:"90vh",paddingTop:"10px",paddingBottom:"10px",marginTop:"25px",backgroundColor:"white"}}),qa=function(e){var t=e.user,a=e.listingId,c=Ea(),i=Object(r.useState)(t.id),s=Object(j.a)(i,1)[0],o=Object(r.useState)([]),l=Object(j.a)(o,2),u=l[0],d=l[1];Object(r.useEffect)((function(){b.a.get("availability/allAvailabilities/".concat(a)).then((function(e){var t=e.data;d(t)}))}),[s]);return Object(n.jsx)(Ze.a,{className:c.calendarMain,children:Object(n.jsx)(Fa.a,{plugins:[Ta.a,Ya.a],initialView:"dayGridMonth",height:"100%",events:u,selectable:!0,eventOverlap:!1,select:function(e){return function(e){var t=e.view.calendar,n={title:"Availability",start:e.startStr,end:e.endStr,overlap:!1,backgroundColor:"#7ad9ec",userId:s},r=!0;t.getEvents().filter((function(e){return"Availability"===e.title})).forEach((function(t){var n=De()(e.startStr).isBetween(t.start,t.end),c=De()(e.endStr).isBetween(t.start,t.end),i=De()(e.startStr).isSame(t.start),s=De()(t.start).isBetween(e.startStr,e.endStr),o=De()(t.end).isBetween(e.startStr,e.endStr),l=De()(e.endStr).isSame(t.end);(n||c||i||s||o)&&(r=!1),i&&l&&(b.a.delete("availability",{params:{startDate:e.startStr,endDate:e.endStr,listingId:a}}),t.remove())})),r&&(t.addEvent(n),b.a.post("/availability/setAvailability",{availability:n}))}(e)},eventBackgroundColor:"#7ad9ec",eventTextColor:"black"})})},Ga=Object(B.a)({main:{backgroundColor:"white",align:"center",justify:"center",marginBottom:"10px"},buttonStyle:{padding:"5px 10px 10px",justifyContent:"center",display:"flex"},infoStyle:{position:"relative",justifyContent:"center",width:"50%",marginTop:"5px",marginBottom:"5px","&:hover":{"& $overlayStyle":{opacity:"1"}}},imgStyle:{height:"60%",width:"60%",padding:"10px 10px 5px"}}),Ha=function(e){var t=e.host,a=Ga(),c=Object(r.useState)(t.userBio),i=Object(j.a)(c,1)[0],s=Object(r.useState)(""),o=Object(j.a)(s,2),l=o[0],u=o[1];return Object(r.useEffect)((function(){b.a.get("/listingPhotos/".concat(t.id)).then((function(e){var t=e.data;return u(t.url)}))}),[]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Ze.a,{className:a.main,children:[Object(n.jsx)(N.a,{container:!0,justify:"center",item:!0,xs:12,children:Object(n.jsx)("img",{src:l,alt:"This person hasn't uploaded any pics of their place yet!",className:a.imgStyle})}),Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{className:a.buttonStyle})}),Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsx)(Ze.a,{className:a.infoStyle,children:i})})]})})},Qa=a(306),Ua=function(e){var t=e.hostData,a=e.hostName,r=[t.openness,t.conscientiousness,t.extraversion,t.agreeableness,t.neuroticism],c={labels:["Openness","Conscientiousness","Extraversion","Agreeableness","Emotional Range"],datasets:[{label:"You",backgroundColor:"rgba(0, 0, 255, 0.3)",hoverBackgroundColor:"rgba(0, 0, 255, 0.5)",borderColor:"rgba(0, 0, 255, 1)",pointBorderColor:"rgba(0, 0, 255, 1)",pointBackgroundColor:"rgba(0, 0, 255, 1)",pointRadius:"rgba(0, 0, 255, 1)",borderWidth:1.5,data:[localStorage.openness,localStorage.conscientiousness,localStorage.extraversion,localStorage.agreeableness,localStorage.neuroticism]},{label:a,backgroundColor:"rgba(255, 0, 0, 0.3)",hoverBackgroundColor:"rgba(255, 0, 0, 0.5)",borderColor:"rgba(255, 0, 0, 1)",pointBorderColor:"rgba(255, 0, 0, 1)",pointBackgroundColor:"rgba(255, 0, 0, 1)",pointRadius:"rgba(255, 0, 0, 1)",borderWidth:1.5,data:r}]};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Qa.Radar,{data:c})})},La=Object(B.a)({main:{backgroundColor:"white",margin:"auto",justifyContent:"center",paddingBottom:100},imgStyle:{height:"100%",width:"100%",padding:"10px 10px 5px",justifyContent:"center"},infoStyle:{justifyContent:"center",paddingTop:"5px",paddingBottom:"5px"},textStyle:{textAlign:"center",wordWrap:"break-word",justifyContent:"center"},buttonStyle:{padding:"5px 10px 10px",justifyContent:"center",display:"flex"}}),za=function(e){var t=e.host,a=e.userId,c=La(),i=Object(r.useState)(!1),s=Object(j.a)(i,2),o=s[0],d=s[1],h=Object(r.useState)(""),m=Object(j.a)(h,2),p=m[0],g=m[1],O=Object(r.useState)({openness:0,conscientiousness:0,extraversion:0,agreeableness:0,neuroticism:0}),x=Object(j.a)(O,2),f=x[0],y=x[1],S=function(){var e=Object(u.a)(l.a.mark((function e(n,r){var c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=9;break}return c={userId:a,hostId:t.id,newMessage:p,activeThread:0},e.next=4,b.a.get("/message/thread",{params:c}).then((function(e){return e.data.id}));case 4:return i=e.sent,c.activeThread=i,e.next=8,b.a.post("/message/newMessage",{params:c});case 8:g("");case 9:d(!1);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){b.a.get("/user/personalityData/".concat(t.id)).then((function(e){var t=e.data;y({openness:t.openness,conscientiousness:t.conscientiousness,extraversion:t.extraversion,agreeableness:t.agreeableness,neuroticism:t.neuroticism})})).catch((function(e){return console.warn(e)}))}),[]),Object(n.jsxs)(Ze.a,{className:c.main,disableGutters:!0,children:[Object(n.jsx)(N.a,{container:!0,item:!0,xs:12,children:Object(n.jsx)(N.a,{container:!0,className:c.infoStyle,children:Object(n.jsx)("img",{src:t.profilePhoto,alt:"Not found",className:c.imgStyle})})}),Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsxs)(Ze.a,{className:c.infoStyle,disableGutters:!0,children:[Object(n.jsx)(N.a,{container:!0,className:c.textStyle,children:"".concat(t.firstName," (").concat(t.pronouns,")")}),Object(n.jsx)(N.a,{container:!0,className:c.textStyle,children:"New Orleans, LA"})]})}),Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsxs)(v.a,{className:c.buttonStyle,children:[Object(n.jsx)(D.a,{variant:"contained",color:"primary",onClick:function(){d(!0)},children:"Message ".concat(t.firstName)}),Object(n.jsx)(Yt,{handleClose:S,handleClickOff:function(){d(!1)},handleTextChange:function(e){g(e.target.value)},message:p,open:o,name:t.firstName})]})}),Object(n.jsx)(N.a,{container:!0,className:c.textStyle,children:"Your match profile with ".concat(t.firstName)}),Object(n.jsx)(N.a,{className:c.infoStyle,children:Object(n.jsx)(Ua,{hostData:f,hostName:t.firstName})})]})},Ja=Object(B.a)({main:{marginTop:"10px",marginBottom:"10px",paddingBottom:"10px"}}),Va=function(e){var t=e.location,a=Object(r.useState)(t.state.hostData),c=Object(j.a)(a,1)[0],i=Object(r.useState)(t.state.userId),s=Object(j.a)(i,1)[0],o=Ja();return Object(n.jsx)(Ze.a,{children:Object(n.jsxs)(N.a,{container:!0,spacing:2,className:o.main,direction:"row",justify:"center",children:[Object(n.jsx)(N.a,{item:!0,xs:4,children:Object(n.jsx)(za,{host:c,userId:s})}),Object(n.jsx)(N.a,{item:!0,xs:8,children:Object(n.jsx)(Ha,{host:c})})]})})},Ka=Object(B.a)({main:{width:"75%"},boxStyle:{display:"flex",justifyContent:"center",height:"200px",margin:"15px 0px"},imageStyle:{width:"240px",height:"170px",margin:"auto",overflow:"hidden",position:"relative",display:"flex",alignItems:"center"},imgStyle:{margin:"auto",display:"block",position:"absolute",objectFit:"cover",width:"80%",height:"100%"},bottomBorder:{borderStyle:"none none solid none",borderWidth:"thin",padding:"4px",flex:0},buttonGridStyle:{justify:"center",alignItems:"center",height:"100%"},infoHolderStyle:{display:"flex",flexDirection:"column"},outerStyle:{flex:"1"},innerStyle:{height:"100%"},centerStyle:{display:"flex",justifyContent:"center"}}),Xa=function(e){var t=e.swap,a=e.guestId,c=e.type,i=Ka(),s=Object(r.useState)({firstName:""}),o=Object(j.a)(s,2),d=o[0],m=o[1],p=Object(r.useState)(""),g=Object(j.a)(p,2),x=g[0],f=g[1],y=Object(r.useState)(""),S=Object(j.a)(y,2),w=S[0],C=S[1],A=Object(r.useState)(localStorage.userId),k=Object(j.a)(A,1)[0],I=Object(r.useState)(0),B=Object(j.a)(I,2),M=B[0],W=B[1],R=Object(r.useState)(0),P=Object(j.a)(R,2),F=P[0],T=P[1],Y=function(){var e={avbId:t.availabilityId,guestId:a};b.a.post("/availability/confirm",{params:e}).then((function(e){return e?O.a.success("Swap approved!"):O.a.warn("Problem approving swap!")})).catch((function(e){return console.warn(e.message)}))},E=function(){var e={avbId:t.availabilityId,guestId:a};b.a.delete("/request/decline",{params:e}).then((function(e){return e?O.a.success("Swap declined!"):O.a.warn("Trouble declining swap!")})).catch((function(e){return console.warn(e.message)}))},q=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("listing/user/".concat(a)).then((function(e){var t=e.data;return W(t.id),t.id}));case 2:return t=e.sent,e.next=5,b.a.get("user/".concat(a)).then((function(e){var t=e.data;m(t)}));case 5:return e.next=7,b.a.get("listingPhotos/byListingId/".concat(t)).then((function(e){var t=e.data;f(t.url)}));case 7:return e.next=9,b.a.get("listing/user/".concat(a)).then((function(e){var t=e.data;C(t.listingAddress)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(u.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("availability/allAvbs/".concat(a)).then((function(e){return e.data}));case 2:n=e.sent,r=n.filter((function(e){return e.startDate===t.start&&e.endDate===t.end?e:[]})),T(r.id);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){a&&q(),"con"===c&&G()}),[a]),Object(n.jsx)(v.a,{className:i.boxStyle,children:Object(n.jsxs)(N.a,{container:!0,spacing:0,className:i.main,children:[Object(n.jsx)(N.a,{xs:3,className:i.imageStyle,children:Object(n.jsx)("img",{src:x,alt:"not found",className:i.imgStyle})}),Object(n.jsxs)(N.a,{xs:9,className:i.infoHolderStyle,children:[Object(n.jsx)(N.a,{xs:12,className:i.bottomBorder,children:"".concat(t.start," to ").concat(t.end)}),Object(n.jsx)(N.a,{xs:12,className:i.bottomBorder,children:w}),Object(n.jsx)(N.a,{xs:12,className:i.bottomBorder,children:d.firstName}),"con"===c?Object(n.jsx)(N.a,{className:i.outerStyle,children:Object(n.jsx)(Ze.a,{className:i.innerStyle,children:Object(n.jsx)(N.a,{className:i.buttonGridStyle,container:!0,direction:"row",children:Object(n.jsx)(N.a,{item:!0,xs:12,className:i.centerStyle,children:Object(n.jsx)(D.a,{variant:"contained",color:"primary",component:h.b,to:{pathname:"/view-listing/".concat(t.guestId,"/").concat(F),state:{startAvail:t.start,endAvail:t.end}},children:"View Room!"})})})})}):"complete"===c?Object(n.jsx)(N.a,{className:i.outerStyle,children:Object(n.jsx)(Ze.a,{className:i.innerStyle,children:Object(n.jsx)(N.a,{className:i.buttonGridStyle,container:!0,direction:"row",children:Object(n.jsx)(N.a,{item:!0,xs:12,className:i.centerStyle,children:Object(n.jsx)(D.a,{component:h.b,to:{pathname:"/writeReview",state:{availabilityId:t.id,reviewerId:k,revieweeId:a}},variant:"contained",children:"Review Swap!"})})})})}):Object(n.jsx)(N.a,{className:i.outerStyle,children:Object(n.jsx)(Ze.a,{className:i.innerStyle,children:Object(n.jsxs)(N.a,{className:i.buttonGridStyle,container:!0,direction:"row",children:[Object(n.jsx)(N.a,{item:!0,xs:4,className:i.centerStyle,children:Object(n.jsx)(D.a,{variant:"contained",color:"primary",onClick:Y,children:"Approve Swap!"})}),Object(n.jsx)(N.a,{item:!0,xs:4,className:i.centerStyle,children:Object(n.jsx)(D.a,{variant:"contained",color:"primary",component:h.b,to:{pathname:"/view-listing/".concat(M,"/").concat(t.availabilityId),state:{startAvail:t.start,endAvail:t.end}},children:"View Room!"})}),Object(n.jsx)(N.a,{item:!0,xs:4,className:i.centerStyle,children:Object(n.jsx)(D.a,{variant:"contained",color:"secondary",onClick:E,children:"Decline Swap!"})})]})})})]})]})})},Za=function(e){var t,a=e.swaps;return Object(n.jsx)(n.Fragment,{children:(t=a,t.map((function(e){if(e.requesterIds)return e.requesterIds.map((function(t){var a=t;return Object(n.jsx)("div",{children:Object(n.jsx)(Xa,{swap:e,guestId:a,"margin-bottom":"10px",type:"req"})})}));if(e.guestId&&"complete"===e.type){var t=e.guestId;return Object(n.jsx)("div",{children:Object(n.jsx)(Xa,{swap:e,guestId:t,"margin-bottom":"10px",type:"complete"})})}if(e.guestId){var a=e.guestId;return Object(n.jsx)("div",{children:Object(n.jsx)(Xa,{swap:e,guestId:a,"margin-bottom":"10px",type:"con"})})}return"oops"})))})},_a=Object(B.a)({main:{paddingTop:"10px",paddingBottom:"10px",marginTop:"25px",marginBottom:"25px",backgroundColor:"white"}}),$a=function(e){var t=e.user,a=_a(),c=Object(r.useState)(t),i=Object(j.a)(c,1)[0],s=Object(r.useState)([]),o=Object(j.a)(s,2),d=o[0],h=o[1],m=Object(r.useState)([]),p=Object(j.a)(m,2),g=p[0],O=p[1],x=Object(r.useState)([]),f=Object(j.a)(x,2),v=f[0],y=f[1],S=function(){var e=Object(u.a)(l.a.mark((function e(){var a,n,r,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("listing/user/".concat(t.id)).then((function(e){return e.data.id})).catch((function(e){return console.warn(e.message)}));case 2:return a=e.sent,e.next=5,b.a.get("availability/allAvailabilities/".concat(a)).then((function(e){return e.data})).catch((function(e){return console.warn(e.message)}));case 5:n=e.sent,r=[],c=[],i=[],n.forEach((function(e){var t=e.type;"swap"===t?r.push(e):"req"===t?c.push(e):"complete"===t&&i.push(e)})),h(r),O(c),y(i);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){S()}),[i]),Object(n.jsxs)(Ze.a,{className:a.main,children:["Hello, ".concat(t.firstName,"!"),d.length?Object(n.jsxs)(N.a,{children:[Object(n.jsx)(N.a,{children:"These swaps have been confirmed. Have fun!"}),Object(n.jsx)(N.a,{children:Object(n.jsx)(Za,{swaps:d})})]}):Object(n.jsx)(N.a,{children:"You don't have any upcoming swaps."}),g.length?Object(n.jsxs)(N.a,{children:[Object(n.jsx)(N.a,{children:"These swaps need your approval. What do you think?"}),Object(n.jsx)(N.a,{children:Object(n.jsx)(Za,{swaps:g})})]}):Object(n.jsx)(N.a,{children:"You don't have any requests."}),v.length?Object(n.jsxs)(N.a,{children:[Object(n.jsx)(N.a,{children:"These swaps have already happened. Please submit a review for your experience!"}),Object(n.jsx)(N.a,{children:Object(n.jsx)(Za,{swaps:v})})]}):Object(n.jsx)(N.a,{children:"You don't have any pending reviews."})]})},en=a(307),tn=a.n(en),an=a(672),nn=a.p+"static/media/realisticbed.ea005bf2.jpg",rn=a(308),cn=a.n(rn),sn=function(e){var t=Object(r.useState)(""),a=Object(j.a)(t,2),c=(a[0],a[1]),i=Object(r.useState)(""),s=Object(j.a)(i,2),o=(s[0],s[1]),l=Object(r.useState)(""),u=Object(j.a)(l,2),d=(u[0],u[1]),b=Object(r.useState)("changed?"),h=Object(j.a)(b,2),m=h[0],p=h[1],g={header:{backgroundImage:"url(".concat(nn,")"),height:"100vh",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}};return Object(n.jsxs)("div",{className:"invite-container","justify-content":"center",style:g.header,children:[Object(n.jsx)("h1",{className:"text-center my-5",children:"Invite a Friend."}),Object(n.jsxs)("form",{className:"contact-form",onSubmit:function(e){e.preventDefault(),tn.a.sendForm("service_53v3f4a","template_r379ghv",e.target,"user_sr6OphdGbk92U9vz6P8xA").then((function(t){O.a.success("Invite sent!"),e.target.reset()})).catch((function(e){O.a.error("There was a problem sending your invite...")}))},children:[Object(n.jsxs)("label",{htmlFor:"name",children:[Object(n.jsx)(F.a,{}),"Name",Object(n.jsx)("input",{type:"text",placeholder:"Name",name:"user_name",onChange:function(e){return o(e.target.value)}})]}),Object(n.jsxs)("label",{htmlFor:"email",children:[Object(n.jsx)(T.a,{}),"Email",Object(n.jsx)("input",{type:"email",placeholder:"Enter your friend's email address",name:"user_email",onChange:function(e){c(e.target.value),p(cn()())}})]}),Object(n.jsxs)("label",{htmlFor:"sender-info",children:[Object(n.jsx)(an.a,{}),"Your Email",Object(n.jsx)("input",{type:"email",placeholder:"Enter your email address",onChange:function(e){d(e.target.value)}})]}),Object(n.jsx)("input",{type:"hidden",name:"message",value:m}),Object(n.jsx)("input",{type:"submit",value:"SUBMIT"})]})]})},on=Object(B.a)((function(){return Object(M.a)({even:{backgroundColor:"#d7f94f",height:"270px",border:"black 1px",paddingLeft:"15px",paddingRight:"15px",paddingTop:"9px"},odd:{backgroundColor:"#d7f94f",height:"225px",border:"black 1px",paddingLeft:"15px",paddingRight:"15px",paddingTop:"7px"},title:{fontWeight:"bold",lineHeight:"1.25px"},body:{lineHeight:"1.25px"},user:{}})})),ln=function(e){var t=e.idx,a=e.title,c=e.body,i=e.author,s=e.authorId,o=e.location,l=on(),u=Object(r.useState)(localStorage.userId),d=Object(j.a)(u,1)[0],m=Object(r.useState)({firstName:"",lastName:"",pronouns:"",hostRating:"",id:0,profilePhoto:"",userBio:""}),p=Object(j.a)(m,2),g=p[0],O=p[1];return Object(r.useEffect)((function(){b.a.get("/user/".concat(s)).then((function(e){var t=e.data,a=t.firstName,n=t.lastName,r=t.pronouns,c=t.hostRating,i=t.id,s=t.profilePhoto,o=t.userBio;O({firstName:a,lastName:n,pronouns:r,hostRating:c,id:i,profilePhoto:s,userBio:o})})).catch((function(e){return e}))}),[]),Object(n.jsxs)(pe.a,{className:t%2===0?l.even:l.odd,children:[Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsx)(Q.a,{variant:"h6",children:a})}),Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsx)(Q.a,{variant:"subtitle1",children:c})}),Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsx)(Q.a,{variant:"overline",component:h.b,to:{pathname:"/view-hostProfile",state:{hostData:g,userId:d}},children:i})}),Object(n.jsx)(N.a,{item:!0,xs:12,children:Object(n.jsx)(Q.a,{variant:"overline",children:o})})]})},un=Object(B.a)((function(){return Object(M.a)({title:{margin:"auto",border:"black 2px"},body:{margin:"auto",marginBottom:"10px"},button:{margin:"auto",justify:"flex-end"}})})),jn=function(e){var t=e.user,a=un(),c=Object(r.useState)("(untitled)"),i=Object(j.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)(""),u=Object(j.a)(l,2),d=u[0],h=u[1],m=Object(r.useState)(""),p=Object(j.a)(m,2),g=p[0],O=p[1];return Object(n.jsxs)(Ze.a,{children:[Object(n.jsx)(N.a,{className:a.title,item:!0,xs:12,children:Object(n.jsx)(Re.a,{id:"bulletin-title",type:"post",margin:"dense",variant:"outlined",onChange:function(e){o(e.target.value)},fullWidth:!0})}),Object(n.jsx)(N.a,{className:a.body,item:!0,xs:12,children:Object(n.jsx)(Re.a,{multiline:!0,rows:5,id:"bulletin-body",type:"post",variant:"outlined",required:!0,onChange:function(e){h(e.target.value)},fullWidth:!0})}),Object(n.jsx)(N.a,{className:a.button,item:!0,xs:12,children:Object(n.jsx)(D.a,{variant:"contained",onClick:function(){d&&b.a.post("/bulletin",{title:s,body:d,userId:t}).then((function(){return O("ok, good going.")})).catch((function(){return O("hmm that did not work.")}))},disableElevation:!0,disableFocusRipple:!0,children:"throw it out there."})}),Object(n.jsx)(N.a,{className:a.button,item:!0,xs:12,children:g})]})},dn=Object(B.a)((function(e){return Object(M.a)({root:{flexGrow:1,padding:"10px"},container:{backgroundColor:"white",margin:"auto",display:"flex",justify:"space-around"},sidebar:{backgroundColor:"white"},bulletins:{backgroundColor:"white",align:"center",alignItems:"center"},paper:{padding:e.spacing(1),textAlign:"left",color:e.palette.text.secondary}})})),bn=function(){var e=dn(),t=Object(r.useState)(localStorage.userId),a=Object(j.a)(t,1)[0],c=Object(r.useState)([{body:"",title:"",author:{id:1,firstName:"",listing:{listingCity:""}},userCity:""}]),i=Object(j.a)(c,2),s=i[0],o=i[1];return Object(r.useEffect)((function(){b.a.get("/bulletin").then((function(e){o(e.data)}))}),[]),Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(N.a,{container:!0,item:!0,xs:11,children:Object(n.jsx)(Q.a,{variant:"h6",children:"community bulletins"})}),Object(n.jsxs)(N.a,{container:!0,className:e.container,xs:11,spacing:3,children:[Object(n.jsx)(N.a,{container:!0,item:!0,className:e.sidebar,xs:3,children:Object(n.jsx)(jn,{user:a})}),Object(n.jsx)(N.a,{container:!0,item:!0,className:e.bulletins,xs:9,children:s.map((function(t,a){if(t.author.listing){var r=t.author.firstName,c=t.author.listing.listingCity,i=t.title,s=t.body,o=t.author.id;return Object(n.jsx)(N.a,{item:!0,container:!0,className:e.paper,xs:3,children:Object(n.jsx)(ln,{title:i,body:s,author:r,authorId:o,location:c,idx:a})})}return null}))})]})]})},hn=Object(it.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(st.a),mn={.5:"Really Terrible",1:"Terrible",1.5:"Really Bad",2:"Bad",2.5:"Below average",3:"Average",3.5:"Good",4:"Really Good",4.5:"Excellent",5:"Above and beyond"},pn={.5:"Really Terrible",1:"Terrible",1.5:"Really Bad",2:"Bad",2.5:"Below average",3:"Average",3.5:"Good",4:"Really Good",4.5:"Excellent",5:"Above and beyond"},gn=Object(B.a)((function(e){return{margin:{margin:e.spacing(1)},main:{marginTop:"350px",marginBottom:"350px"},root:{width:400,display:"flex",alignItems:"center",alignContent:"center",marginTop:"30px",marginBottom:"30px",justify:"center"},button:{justify:"center"},form:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:"40ch"}}}})),On=function(e){var t=e.user,a=gn(),c=(Object(m.g)(),Object(r.useState)(3)),i=Object(j.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)(3),u=Object(j.a)(l,2),d=u[0],p=u[1],g=Object(r.useState)(-1),x=Object(j.a)(g,2),f=x[0],S=x[1],w=Object(r.useState)(-1),C=Object(j.a)(w,2),I=C[0],B=C[1],M=Object(r.useState)("Enter review here"),R=Object(j.a)(M,2),P=R[0],F=R[1],T=Object(r.useState)("Enter review here"),Y=Object(j.a)(T,2),E=Y[0],q=(Y[1],Object(r.useState)(!0)),G=Object(j.a)(q,2),H=G[0],U=(G[1],Object(r.useState)()),L=Object(j.a)(U,2),z=L[0],J=(L[1],Object(r.useState)()),V=Object(j.a)(J,2),K=V[0],X=(V[1],Object(r.useState)(!1)),Z=Object(j.a)(X,2),_=(Z[0],Z[1],function(e,t){F(e.target.value)});return Object(n.jsx)("div",{className:"write-review-container",children:Object(n.jsxs)(N.a,{container:!0,spacing:10,direction:"row",alignContent:"center",alignItems:"center",justify:"center",item:!0,xl:9,children:[Object(n.jsx)(N.a,{item:!0,justify:"center",alignItems:"center",children:Object(n.jsx)(Q.a,{className:a.root,variant:"h3",align:"center",children:"Tell us about your swap."})}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(N.a,{item:!0,className:a.root,justify:"center",alignItems:"center",alignContent:"center",children:Object(n.jsxs)("div",{className:"comments",children:[Object(n.jsx)(N.a,{item:!0,alignContent:"center",justify:"center",alignItems:"center",children:Object(n.jsx)(Q.a,{children:Object(n.jsxs)(v.a,{m:3,children:["How would you rate your swapmate as a host?",Object(n.jsxs)(v.a,{m:2,children:[Object(n.jsx)(hn,{name:"host-rating",defaultValue:3,value:s,precision:.5,icon:Object(n.jsx)(lt.a,{fontSize:"large"}),onChange:function(e,t){o(t)},onChangeActive:function(e,t){S(t)}}),null!==s&&Object(n.jsx)(v.a,{ml:2,children:mn[-1!==f?f:s]})]})]})})}),Object(n.jsxs)(A.a,{className:Object(y.a)(a.margin,a.form),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"host-comments",children:"Comments?"}),Object(n.jsx)(k.a,{name:"hostReview",type:"text",fullWidth:!0,multiline:!0,rows:3,onChange:function(e){return _(e)},labelWidth:92})]}),Object(n.jsx)(N.a,{container:!0,children:Object(n.jsx)(Q.a,{children:Object(n.jsxs)(v.a,{m:3,children:["How would you rate your swapmate as a guest?",Object(n.jsxs)(v.a,{m:2,children:[Object(n.jsx)(hn,{name:"guest-rating",defaultValue:3,value:d,precision:.5,icon:Object(n.jsx)(lt.a,{fontSize:"large"}),onChange:function(e,t){p(t)},onChangeActive:function(e,t){B(t)}}),null!==d&&Object(n.jsx)(v.a,{ml:2,children:pn[-1!==I?I:d]})]})]})})}),Object(n.jsxs)(A.a,{className:Object(y.a)(a.margin,a.form),variant:"outlined",children:[Object(n.jsx)(W.a,{htmlFor:"guest-comments",children:"Comments?"}),Object(n.jsx)(k.a,{name:"guestReview",type:"text",fullWidth:!0,multiline:!0,rows:3,onChange:function(e){return _(e)},labelWidth:92})]}),Object(n.jsx)(D.a,{className:a.button,type:"button",color:"secondary",fullWidth:!0,onClick:function(e){e.preventDefault();var a={guestRating:d,hostRating:s,hostReview:P,guestReview:E,isComplete:H,userId:t.id,hostId:z,avyId:K};b.a.post("reviews/newReview",{params:a}).then((function(e){e&&O.a.success("Review submitted!")})).catch((function(e){return O.a.warn("You must complete a swap to write a review!")}))},children:"Submit Review"}),Object(n.jsx)(D.a,{type:"button",component:h.b,to:{pathname:"/view-swaps"},fullWidth:!0,children:"Return to Swaps"})]})})]})})};O.a.configure();var xn=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(0),s=Object(j.a)(i,2),o=s[0],d=s[1],O=Object(r.useState)({id:localStorage.userId,firstName:localStorage.firstName,guestRating:localStorage.guestRating,hostRating:localStorage.hostRating,inviteCount:localStorage.inviteCount,profilePhoto:localStorage.profilePhoto,pronouns:localStorage.pronouns,swapCount:localStorage.swapCount,userBio:localStorage.userBio,email:localStorage.email,openness:localStorage.openness,conscientiousness:localStorage.conscientiousness,extraversion:localStorage.extraversion,agreeableness:localStorage.agreeableness,neuroticism:localStorage.neuroticism}),x=Object(j.a)(O,2),v=x[0],y=x[1],S=Object(r.useState)(!1),w=Object(j.a)(S,2),C=w[0],N=w[1],A=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://".concat("localhost",":").concat("3000","/auth/verify"),{method:"POST",headers:{jwt_token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:!0===e.sent&&c(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.warn(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){A(),b.a.get("listing/user/".concat(v.id)).then((function(e){var t=e.data;return d(t.id)}))}),[v]),Object(n.jsxs)(p.a,{theme:f,children:[Object(n.jsx)(g.a,{}),Object(n.jsx)("div",{className:C?"dark-mode":"light-mode",children:Object(n.jsxs)(h.a,{children:[a&&Object(n.jsx)(ya,{handleLogin:[c],toggleMode:[C,N]}),Object(n.jsxs)(m.d,{children:[Object(n.jsx)(m.b,{exact:!0,strict:!0,path:"/",render:function(){return a?Object(n.jsx)(m.a,{to:"/dashboard"}):Object(n.jsx)(ke,{handleLogin:[a,c],setUser:y})}}),Object(n.jsx)(m.b,{exact:!0,strict:!0,path:"/register",render:function(){return a?Object(n.jsx)(m.a,{to:"/dashboard"}):Object(n.jsx)(Ne,{handleLogin:[a,c]})}}),Object(n.jsx)(m.b,{exact:!0,strict:!0,path:"/dashboard",render:function(){return a?Object(n.jsx)(Kt,{handleLogin:[c],user:v}):Object(n.jsx)(m.a,{to:"/"})}}),Object(n.jsx)(m.b,{exact:!0,strict:!0,path:"/view-searches",component:Xe}),Object(n.jsx)(m.b,{exact:!0,path:"/view-listing/:id/:avbId",component:function(){return Object(n.jsx)(Qt,{user:v})}}),Object(n.jsx)(m.b,{exact:!0,strict:!0,path:"/view-messages",component:function(){return Object(n.jsx)(oa,{user:v})}}),Object(n.jsx)(m.b,{exact:!0,path:"/view-profile",component:function(){return Object(n.jsx)(Pa,{user:v,setUser:y})}}),Object(n.jsx)(m.b,{exact:!0,path:"/view-hostProfile",component:Va}),Object(n.jsx)(m.b,{exact:!0,path:"/view-calendar",component:function(){return Object(n.jsx)(qa,{user:v,listingId:o})}}),Object(n.jsx)(m.b,{exact:!0,path:"/view-swaps",component:function(){return Object(n.jsx)($a,{user:v})}}),Object(n.jsx)(m.b,{exact:!0,path:"/view-invites",component:sn}),Object(n.jsx)(m.b,{exact:!0,path:"/view-bulletins",component:bn}),Object(n.jsx)(m.b,{exact:!0,path:"/writeReview",component:function(){return Object(n.jsx)(On,{user:v})}})]})]})})]})},fn=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,688)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(xn,{})}),document.getElementById("root")),fn()}},[[595,1,2]]]);
//# sourceMappingURL=main.7e0c0312.chunk.js.map