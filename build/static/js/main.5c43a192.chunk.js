(this.webpackJsonpgoldilocks=this.webpackJsonpgoldilocks||[]).push([[0],{107:function(e,t,a){},241:function(e,t){e.exports=function(){var e=Math.random().toString().slice(-6);return console.log(e),e}},299:function(e,t){},415:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),s=a(19),i=a.n(s),o=a(16),l=a.n(o),j=a(26),u=a(6),d=a(14),b=a.n(d),O=a(31),h=a(29),m=a(35),p=(a(156),a(107),a(498)),x=a(458),f=a(459),g=a(495),v=a(463),y=function(e){var t=e.nextStep,a=e.handleChange,r=e.firstName,c=e.lastName,s=e.pronouns,i=e.email,o=e.password;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(p.a,{open:!0,fullWidth:!0,children:[Object(n.jsx)(x.a,{title:"Enter Personal Details"}),Object(n.jsx)(f.a,{id:"form-dialog-title",children:"Step 1: Enter profile details"}),Object(n.jsx)(g.a,{name:"firstName",label:"First Name",variant:"outlined",color:"secondary",margin:"normal",fullWidth:!0,defaultValue:r,onChange:function(e){return a(e,"firstName")}}),Object(n.jsx)(g.a,{name:"lastName",label:"Last Name",variant:"outlined",color:"secondary",margin:"normal",fullWidth:!0,defaultValue:c,onChange:function(e){return a(e,"lastName")}}),Object(n.jsx)(g.a,{name:"pronouns",label:"Pronouns",variant:"outlined",color:"secondary",margin:"normal",fullWidth:!0,defaultValue:s,onChange:function(e){return a(e,"pronouns")}}),Object(n.jsx)(g.a,{name:"email",label:"Email",type:"email",variant:"outlined",color:"secondary",margin:"normal",fullWidth:!0,defaultValue:i,onChange:function(e){return a(e,"email")}}),Object(n.jsx)(g.a,{name:"password",label:"Password",type:"password",variant:"outlined",color:"secondary",margin:"normal",fullWidth:!0,defaultValue:o,onChange:function(e){return a(e,"password")}}),Object(n.jsx)("br",{}),Object(n.jsx)(v.a,{className:"question-btn",onClick:function(e){return e.preventDefault(),void t()},color:"primary",variant:"contained",children:"Continue"})]})})},S=a(80),w=a(225),C=a.n(w),N=a(226),k=a.n(N),D=a(227),I=a.n(D),q=a(228),R=a.n(q),A=a(229),P=a.n(A),T=function(e){var t=e.nextStep,a=e.prevStep,r=e.handleResponse,c=e.q1,s=e.q2,i=e.q3,o=e.q4,l=e.q5;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(p.a,{open:!0,fullWidth:!0,children:[Object(n.jsx)(x.a,{title:"New User Questionnaire"}),Object(n.jsx)(f.a,{id:"form-dialog-title",children:"Step 2: Fill Out Survey (1/2)"}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(C.a,{}),"Finish this sentence: Strangers would describe me as ____, but I know that I am ____."]}),Object(n.jsx)(g.a,{name:"response1",autoFocus:!0,multiline:!0,rows:2,variant:"outlined",fullWidth:!0,defaultValue:c,onChange:function(e){return r(e,"response1")}}),Object(n.jsx)("br",{}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(k.a,{}),"What does it feel like when you feel your best?"]}),Object(n.jsx)(g.a,{name:"response2",autoFocus:!0,multiline:!0,rows:2,variant:"outlined",fullWidth:!0,defaultValue:s,onChange:function(e){return r(e,"response2")}}),Object(n.jsx)("br",{}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(I.a,{}),"What is your relationship like with your neighbors?"]}),Object(n.jsx)(g.a,{name:"response3",autoFocus:!0,multiline:!0,rows:2,variant:"outlined",fullWidth:!0,defaultValue:i,onChange:function(e){return r(e,"response3")}}),Object(n.jsx)("br",{}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(R.a,{}),"How would you describe the vibe of your home? What makes it that way?"]}),Object(n.jsx)(g.a,{name:"response4",autoFocus:!0,multiline:!0,rows:2,variant:"outlined",fullWidth:!0,defaultValue:o,onChange:function(e){return r(e,"response4")}}),Object(n.jsx)("br",{}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(P.a,{}),"How do you decompress day to day?"]}),Object(n.jsx)(g.a,{name:"response5",autoFocus:!0,multiline:!0,rows:2,variant:"outlined",fullWidth:!0,defaultValue:l,onChange:function(e){return r(e,"response5")}}),Object(n.jsx)("br",{}),Object(n.jsx)(v.a,{className:"question-btn",onClick:function(e){return function(e){e.preventDefault(),t()}(e)},color:"primary",variant:"contained",children:"Continue"}),Object(n.jsx)(v.a,{className:"question-btn",onClick:function(e){return function(e){e.preventDefault(),a()}(e)},color:"secondary",variant:"contained",children:"Back"})]})})},E=a(230),B=a.n(E),F=a(231),W=a.n(F),_=a(232),L=a.n(_),H=a(233),V=a.n(H),M=a(234),z=a.n(M),Y=function(e){var t=e.nextStep,a=e.prevStep,r=e.handleResponse,c=e.q6,s=e.q7,i=e.q8,o=e.q9,l=e.q10;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(p.a,{open:!0,fullWidth:!0,children:[Object(n.jsx)(x.a,{title:"New User Questionnaire"}),Object(n.jsx)(f.a,{id:"form-dialog-title",children:"Step 3: Fill Out Survey (2/2)"}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(B.a,{}),"What is your favorite way to spend a Sunday night?"]}),Object(n.jsx)(g.a,{name:"response6",autoFocus:!0,multiline:!0,rows:2,variant:"outlined",fullWidth:!0,defaultValue:c,onChange:function(e){return r(e,"response6")}}),Object(n.jsx)("br",{}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(W.a,{}),"How do you think you are as a roommate?"]}),Object(n.jsx)(g.a,{name:"response7",autoFocus:!0,multiline:!0,rows:2,variant:"outlined",fullWidth:!0,defaultValue:s,onChange:function(e){return r(e,"response7")}}),Object(n.jsx)("br",{}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(L.a,{}),"What do you do for a living?"]}),Object(n.jsx)(g.a,{name:"response8",autoFocus:!0,multiline:!0,rows:2,variant:"outlined",fullWidth:!0,defaultValue:i,onChange:function(e){return r(e,"response8")}}),Object(n.jsx)("br",{}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(V.a,{}),"Describe a typical day in your life."]}),Object(n.jsx)(g.a,{name:"response9",autoFocus:!0,multiline:!0,rows:2,variant:"outlined",fullWidth:!0,defaultValue:o,onChange:function(e){return r(e,"response9")}}),Object(n.jsx)("br",{}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(z.a,{}),"Do you have any allergies or special food requirements?"]}),Object(n.jsx)(g.a,{name:"response10",autoFocus:!0,multiline:!0,rows:2,variant:"outlined",fullWidth:!0,defaultValue:l,onChange:function(e){return r(e,"response10")}}),Object(n.jsx)("br",{}),Object(n.jsx)(v.a,{className:"question-btn",onClick:function(e){return function(e){e.preventDefault(),t()}(e)},color:"primary",variant:"contained",children:"Continue"}),Object(n.jsx)(v.a,{className:"question-btn",onClick:function(e){return function(e){e.preventDefault(),a()}(e)},color:"secondary",variant:"contained",children:"Back"})]})})},U=function(e){var t=e.nextStep,a=e.prevStep;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(p.a,{open:!0,fullWidth:!0,children:[Object(n.jsx)(x.a,{title:"Upload Profile Photo"}),Object(n.jsx)(f.a,{id:"form-dialog-title",children:"Step 3: Upload Your Profile Photo"}),Object(n.jsx)(S.a,{children:"Greg\\s Upload Button Here"}),Object(n.jsx)("br",{}),Object(n.jsx)(v.a,{className:"question-btn",onClick:function(e){return function(e){e.preventDefault(),t()}(e)},color:"primary",variant:"contained",children:"Continue"}),Object(n.jsx)(v.a,{className:"question-btn",onClick:function(e){return function(e){e.preventDefault(),a()}(e)},color:"secondary",variant:"contained",children:"Back"})]})})},Q=a(465),G=a(416),Z=a(462),J=a(418),K=a(466),$=a(464),X=a(500),ee=Object($.a)((function(e){return Object(X.a)({root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})})),te=function(e){var t=ee(),a=e.nextStep,r=e.prevStep,c=e.firstName,s=e.lastName,i=e.pronouns,o=e.email,u=e.password,d=e.q1,b=e.q2,O=e.q3,h=e.q4,p=e.q5,f=e.q6,g=e.q7,y=e.q8,w=e.q9,C=e.q10,N=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,r,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={firstName:c,lastName:s,pronouns:i,email:o,password:u,q1:d,q2:b,q3:O,q4:h,q5:p,q6:f,q7:g,q8:y,q9:w,q10:C},e.next=5,fetch("http://localhost:3000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return r=e.sent,e.next=8,r.json();case 8:(j=e.sent).jwtToken?(localStorage.setItem("token",j.jwtToken),m.a.success("New user created!")):m.a.error(j),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.warn(e.t0.message);case 15:a();case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(x.a,{title:"Confirm Details"}),Object(n.jsx)("br",{}),Object(n.jsxs)(Q.a,{container:!0,spacing:3,children:[Object(n.jsx)(Q.a,{item:!0,xs:6,children:Object(n.jsxs)(G.a,{className:t.paper,children:[Object(n.jsx)(S.a,{variant:"h5",children:"Confirm Personal Details"}),Object(n.jsx)("br",{}),Object(n.jsxs)(Z.a,{children:[Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"First Name",secondary:c})}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"Last Name",secondary:s})}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"Preferred Pronouns",secondary:i})}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"Email",secondary:o})}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"Password",secondary:u})})]})]})}),Object(n.jsx)(Q.a,{item:!0,xs:6,children:Object(n.jsxs)(G.a,{className:t.paper,children:[Object(n.jsx)(S.a,{variant:"h5",children:"Confirm Survey Responses"}),Object(n.jsx)("br",{}),Object(n.jsxs)(Z.a,{children:[Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"Finish this sentence: Strangers would describe me as ____, but I know that I am ____.",secondary:d})}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"What does it feel like when you feel your best?",secondary:b})}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"What is your relationship like with your neighbors",secondary:O})}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"How would you describe the vibe of your home? What makes it that way?",secondary:h})}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"How do you decompress day to day?",secondary:p})}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"What is your favorite way to spend a Sunday night?",secondary:f})}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"How do you think you are as a roommate?",secondary:g})}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"What do you do for a living?",secondary:y})}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"Describe a typical day in your life.",secondary:w})}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{primary:"Do you have any allergies, food restrictions or require ADA accommodations?",secondary:C})})]})]})})]}),Object(n.jsx)("br",{}),Object(n.jsx)(v.a,{className:"confirm-btn",color:"primary",variant:"contained",onClick:function(e){return N(e)},children:"Submit"}),Object(n.jsx)(v.a,{className:"confirm-btn",onClick:function(e){return function(e){e.preventDefault(),r()}(e)},color:"secondary",variant:"contained",children:"Back"})]})})},ae=function(){return Object(n.jsxs)("div",{className:"success-container",children:[Object(n.jsx)("h1",{children:"You have successfully registered!"}),Object(n.jsx)("a",{href:"/",children:"Login here."})]})},ne=function(e){var t=e.onSubmitForm,a=(e.firstName,e.lastName,e.pronouns,e.email,e.password,Object(r.useState)(1)),c=Object(u.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(""),l=Object(u.a)(o,2),j=l[0],d=l[1],b=Object(r.useState)(""),O=Object(u.a)(b,2),h=O[0],m=O[1],p=Object(r.useState)(""),x=Object(u.a)(p,2),f=x[0],g=x[1],v=Object(r.useState)(""),S=Object(u.a)(v,2),w=S[0],C=S[1],N=Object(r.useState)(""),k=Object(u.a)(N,2),D=k[0],I=k[1],q=Object(r.useState)(""),R=Object(u.a)(q,2),A=R[0],P=R[1],E=Object(r.useState)(""),B=Object(u.a)(E,2),F=B[0],W=B[1],_=Object(r.useState)(""),L=Object(u.a)(_,2),H=L[0],V=L[1],M=Object(r.useState)(""),z=Object(u.a)(M,2),Q=z[0],G=z[1],Z=Object(r.useState)(""),J=Object(u.a)(Z,2),K=J[0],$=J[1],X=Object(r.useState)(""),ee=Object(u.a)(X,2),ne=ee[0],re=ee[1],ce=Object(r.useState)(""),se=Object(u.a)(ce,2),ie=se[0],oe=se[1],le=Object(r.useState)(""),je=Object(u.a)(le,2),ue=je[0],de=je[1],be=Object(r.useState)(""),Oe=Object(u.a)(be,2),he=Oe[0],me=Oe[1],pe=Object(r.useState)(""),xe=Object(u.a)(pe,2),fe=xe[0],ge=xe[1],ve=Object(r.useState)(""),ye=Object(u.a)(ve,2),Se=ye[0],we=ye[1],Ce=function(){i(s+1)},Ne=function(){i(s-1)},ke=function(e,t){"response1"===t?W(e.target.value):"response2"===t?V(e.target.value):"response3"===t?G(e.target.value):"response4"===t?$(e.target.value):"response5"===t?re(e.target.value):"response6"===t?oe(e.target.value):"response7"===t?de(e.target.value):"response8"===t?me(e.target.value):"response9"===t?ge(e.target.value):"response10"===t&&we(e.target.value)};switch(s){case 1:return Object(n.jsx)(y,{firstName:j,lastName:h,pronouns:f,email:D,dob:w,password:A,nextStep:Ce,handleChange:function(e,t){"firstName"===t?d(e.target.value):"lastName"===t?m(e.target.value):"pronouns"===t?g(e.target.value):"dob"===t?C(e.target.value):"email"===t?I(e.target.value):"password"===t&&P(e.target.value)}});case 2:return Object(n.jsx)(T,{q1:F,q2:H,q3:Q,q4:K,q5:ne,nextStep:Ce,prevStep:Ne,handleResponse:ke});case 3:return Object(n.jsx)(Y,{q6:ie,q7:ue,q8:he,q9:fe,q10:Se,nextStep:Ce,prevStep:Ne,handleResponse:ke});case 4:return Object(n.jsx)(U,{nextStep:Ce,prevStep:Ne});case 5:return Object(n.jsx)(te,{firstName:j,lastName:h,pronouns:f,email:D,dob:w,password:A,q1:F,q2:H,q3:Q,q4:K,q5:ne,q6:ie,q7:ue,q8:he,q9:fe,q10:Se,nextStep:Ce,prevStep:Ne,onSubmitForm:t});case 6:return Object(n.jsx)(ae,{});default:return Object(n.jsx)("h1",{children:"Didney worl"})}},re=function(e){var t=Object(u.a)(e.handleLogin,2),a=(t[0],t[1]),c=Object(r.useState)(""),s=Object(u.a)(c,2),i=s[0],o=(s[1],Object(r.useState)("")),d=Object(u.a)(o,2),O=d[0],h=(d[1],Object(r.useState)("")),p=Object(u.a)(h,2),x=p[0],f=(p[1],Object(r.useState)("")),g=Object(u.a)(f,2),v=g[0],y=(g[1],Object(r.useState)("")),S=Object(u.a)(y,2),w=S[0],C=(S[1],Object(r.useState)("")),N=Object(u.a)(C,2),k=N[0],D=N[1],I=Object(r.useState)(),q=Object(u.a)(I,2),R=(q[0],q[1]),A=Object(r.useState)(""),P=Object(u.a)(A,2),T=P[0],E=P[1],B=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://".concat("ec2-18-222-140-77.us-east-2.compute.amazonaws.com",":").concat("3000","/image/newProfilePicture"),{params:{image:t}}).then((function(e){var t=e.data;E(t)})).catch((function(e){return console.warn(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("user/email/".concat(v)).then((function(e){var t=e.data;localStorage.setItem("userId",t.id),localStorage.setItem("firstName",t.firstName),localStorage.setItem("pronouns",t.pronouns),localStorage.setItem("email",t.email),localStorage.setItem("profilePhoto",t.profilePhoto),localStorage.setItem("swapCount",t.swapCount),localStorage.setItem("guestRating",t.guestRating),localStorage.setItem("hostRating",t.hostRating),localStorage.setItem("inviteCount",t.inviteCount),localStorage.setItem("userBio",t.userBio)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=Object(r.useState)(""),_=Object(u.a)(W,2),L=_[0],H=(_[1],Object(r.useState)("")),V=Object(u.a)(H,2),M=V[0],z=(V[1],Object(r.useState)("")),Y=Object(u.a)(z,2),U=Y[0],Q=(Y[1],Object(r.useState)("")),G=Object(u.a)(Q,2),Z=G[0],J=(G[1],Object(r.useState)("")),K=Object(u.a)(J,2),$=K[0],X=(K[1],Object(r.useState)("")),ee=Object(u.a)(X,2),te=ee[0],ae=(ee[1],Object(r.useState)("")),re=Object(u.a)(ae,2),ce=re[0],se=(re[1],Object(r.useState)("")),ie=Object(u.a)(se,2),oe=ie[0],le=(ie[1],Object(r.useState)("")),je=Object(u.a)(le,2),ue=je[0],de=(je[1],Object(r.useState)("")),be=Object(u.a)(de,2),Oe=be[0],he=(be[1],function(){var e=Object(j.a)(l.a.mark((function e(t){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.info("Hit the function!"),e.prev=2,n={firstName:i,lastName:O,pronouns:x,email:v,password:w,profilePhotoUrl:T,q1:L,q2:M,q3:U,q4:Z,q5:$,q6:te,q7:ce,q8:oe,q9:ue,q10:Oe},e.next=6,fetch("http://".concat("ec2-18-222-140-77.us-east-2.compute.amazonaws.com",":").concat("3000","/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 6:return r=e.sent,e.next=9,r.json();case 9:if(!(c=e.sent).jwtToken){e.next=17;break}return localStorage.setItem("token",c.jwtToken),e.next=14,F();case 14:a(!0),e.next=19;break;case 17:a(!1),m.a.error(c);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),console.warn(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[2,21]])})));return function(t){return e.apply(this,arguments)}}());return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"signup-container",children:[Object(n.jsx)("h1",{className:"text-center my-5",children:"Register"}),Object(n.jsxs)("div",{className:"row justify-content-center",children:[Object(n.jsx)("input",{id:"imageInput",type:"file",name:"image",onChange:function(e){return function(e){var t=e.target.files[0];R(t),D(e.target.value);var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){B(a.result)},a.onerror=function(){console.warn("reader experienced an error")}}(e)},value:k}),Object(n.jsx)(ne,{firstName:i,lastName:O,pronouns:x,email:v,password:w,q1:L,q2:M,q3:U,q4:Z,q5:$,q6:te,q7:ce,q8:oe,q9:ue,q10:Oe,onSubmitForm:he}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{href:"/",children:"Already registered? Login here."})]})]})})},ce=a(118),se=function(e){var t=Object(u.a)(e.handleLogin,2),a=(t[0],t[1]),c=e.setUser,s=Object(ce.a)().errors,i=Object(r.useState)(""),o=Object(u.a)(i,2),d=o[0],O=o[1],h=Object(r.useState)(""),p=Object(u.a)(h,2),x=p[0],f=p[1],g=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("user/email/".concat(d)).then((function(e){var t=e.data;localStorage.setItem("userId",t.id),localStorage.setItem("firstName",t.firstName),localStorage.setItem("pronouns",t.pronouns),localStorage.setItem("email",t.email),localStorage.setItem("profilePhoto",t.profilePhoto),localStorage.setItem("swapCount",t.swapCount),localStorage.setItem("guestRating",t.guestRating),localStorage.setItem("hostRating",t.hostRating),localStorage.setItem("inviteCount",t.inviteCount),localStorage.setItem("userBio",t.userBio)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:d,password:x},e.next=5,fetch("http://".concat("ec2-18-222-140-77.us-east-2.compute.amazonaws.com",":").concat("3000","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e}));case 5:return r=e.sent,e.next=8,r.json();case 8:if(!(s=e.sent).jwtToken){e.next=17;break}return localStorage.setItem("token",s.jwtToken),e.next=13,g();case 13:c({id:localStorage.userId,firstName:localStorage.firstName,guestRating:localStorage.guestRating,hostRating:localStorage.hostRating,inviteCount:localStorage.inviteCount,profilePhoto:localStorage.profilePhoto,pronouns:localStorage.pronouns,swapCount:localStorage.swapCount,userBio:localStorage.userBio,email:localStorage.email}),a(!0),m.a.success("Logged in successfully!"),e.next=19;break;case 17:a(!1),m.a.error(s);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),m.a.error("Invalid credentials entered!"),console.warn(e.t0.message);case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"login-container",children:[Object(n.jsx)("h1",{className:"text-center my-5",children:"Login"}),Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsxs)("label",{htmlFor:"email",children:["Email",Object(n.jsx)("input",{className:"form-control my-3",type:"email",name:"email",placeholder:"name@example.com",value:d,onChange:function(e){return O(e.target.value)}}),s.email&&Object(n.jsx)("div",{className:"error",children:" Enter A Valid Email "})]})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsxs)("label",{htmlFor:"password",children:["Enter Password",Object(n.jsx)("input",{className:"form-control my-3",type:"password",id:"password",name:"password",placeholder:"Create Password",value:x,onChange:function(e){return f(e.target.value)}}),s.password&&Object(n.jsx)("div",{className:"error",children:"Enter A Valid Password "})]})}),Object(n.jsxs)("div",{className:"button",children:[Object(n.jsx)("button",{className:"btn btn-success btn-block",type:"submit",onClick:v,children:"Start Swapping"}),Object(n.jsx)("a",{href:"/register",children:"Have a verification code? Sign Up Here"})]})]})})]})},ie=a(17),oe=a.n(ie),le=a(120),je=function(e){var t=Object(r.useState)({latitude:29.959021,longitude:-90.065285,zoom:12,bearing:0,pitch:0}),a=Object(u.a)(t,2),c=a[0],s=a[1],i=e.locationQuery,o=e.listings,l=Object(r.useState)([]),j=Object(u.a)(l,2),d=j[0],O=j[1],h=Object(r.useCallback)((function(){var e=[];o.length&&o.forEach((function(t){var a=t.latitude,n=t.longitude,r={latitude:Number(a),longitude:Number(n)};e.push(r)})),O(e)}),[o]);Object(r.useEffect)((function(){h()}),[o,h]);return Object(r.useEffect)((function(){var e;i.length&&(e=i,b.a.get("/map/api/geocode/".concat(e)).then((function(e){s({latitude:e.data.features[0].center[1],longitude:e.data.features[0].center[0],zoom:12,bearing:0,pitch:0})})))}),[i]),i.length?Object(n.jsx)("div",{className:"mapbox-react",children:Object(n.jsxs)(le.c,{latitude:c.latitude,longitude:c.longitude,zoom:c.zoom,width:"500px",height:"500px",mapStyle:"mapbox://styles/mapbox/streets-v11",mapboxApiAccessToken:"pk.eyJ1IjoieWVsbG93Y3Jvd25kIiwiYSI6ImNrZ3RtNjkyZjAzdjQzMHA3Y3dpdHZwMTgifQ.xR2Qi5BcD_4Bs62Qh5Rakg",onViewportChange:function(e){return s(e)},children:[Object(n.jsx)("div",{style:{position:"absolute",right:10,top:10},children:Object(n.jsx)(le.b,{onViewportChange:function(e){return s(e)}})}),d.map((function(e){var t=e.latitude,a=e.longitude;return Object(n.jsx)(le.a,{className:"map-marker",latitude:t,longitude:a})}))]})}):Object(n.jsx)(n.Fragment,{})},ue=(a(287),a(337),a(236)),de=function(e){var t=Object(r.useState)(null),a=Object(u.a)(t,2),c=a[0],s=a[1],i=e.startDate,o=e.setStartDate,l=e.endDate,j=e.setEndDate,d=e.setDateRange;return Object(n.jsx)("div",{className:"date-picker",children:Object(n.jsx)(ue.DateRangePicker,{startDate:i,endDate:l,startDateId:"yes",endDateId:"no",onDatesChange:function(e){var t=e.startDate,a=e.endDate;o(t),j(a),t&&a&&d({start:t.format("YYYY-MM-DD"),end:a.format("YYYY-MM-DD")})},focusedInput:c,onFocusChange:function(e){s(e)}})})},be=function(e){var t=e.startDate,a=e.setStartDate,r=e.endDate,c=e.setEndDate,s=e.setDateRange,i=(e.setDefaultView,Object(ce.a)()),o=i.register,l=i.handleSubmit;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("form",{onSubmit:l((function(a){a.locationQuery&&t&&r?e.onSubmit(a.locationQuery):a.locationQuery||t||r?a.locationQuery?t&&r||console.error("please enter a valid date range."):console.error("please enter a destination."):console.error("sorry, that didn't work. please complete a new query.")})),children:[Object(n.jsx)(g.a,{name:"locationQuery",inputRef:o,placeholder:"where to?",fullWidth:!0,margin:"normal","aria-describedby":"search by location"}),Object(n.jsx)(de,{startDate:t,setStartDate:a,endDate:r,setEndDate:c,setDateRange:s}),Object(n.jsx)(v.a,{type:"submit",children:"SEARCH"})]})})},Oe=a(468),he=a(467),me=Object($.a)((function(e){Object(X.a)({root:{width:"100%",maxWidth:"50ch"},inline:{display:"inline"},defaultView:{alignItems:"center"}})})),pe=function(e){me();var t,a=e.user,r=e.title,c=e.location,s=e.avail,i=(e.defaultView,e.availForDefault,e.updated),o=c.listingCity,l=c.listingState,j=s.startAvail,u=s.endAvail;return i?i&&(t=Object(n.jsxs)("p",{children:["available from",j," ","to",u]})):t=Object(n.jsx)("p",{}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(he.a,{cols:2,component:O.b,to:"/listing/".concat(a),children:Object(n.jsx)(K.a,{primary:r,secondary:"".concat(o,", ").concat(l)})}),t]})},xe=Object($.a)((function(e){return Object(X.a)({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{flexWrap:"nowrap"},inline:{display:"inline"}})})),fe=function(e){var t=xe(),a=e.locationQuery,c=e.listings,s=e.setListings,i=e.dateRange,o=e.defaultView,l=(e.setLocationQuery,e.updated),j=e.setUpdated,d=function(){var e=i.start,t=i.end,n={};b.a.get("/availability/listings/:".concat(e,"/:").concat(t)).then((function(r){var c=r.data;c.length?(c.forEach((function(e){var t=e.listing_id,a=e.startDate,r=e.endDate;n[t]||(n[t]={startDate:a,endDate:r})})),function(e){var t=[],n=Object.keys(e);n.map((function(r){return b.a.get("/listing/fullSearch/".concat(r,"/").concat(a)).then((function(a){var n=a.data;n.startAvail=e[r].startDate,n.endAvail=e[r].endDate,t.push(n)})).then((function(){t.length===n.length&&s(t)})).catch((function(e){return e}))}))}(n)):console.error("sorry :/ there doesn't seem to be any available listings in ".concat(a," from ").concat(e," to ").concat(t))})).catch((function(e){return e}))};return Object(r.useEffect)((function(){a&&!l&&(d(),j(!0))}),[c,a]),Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(Oe.a,{className:t.gridList,cols:2.5,children:c.map((function(e){var t=e.id,a=e.user_id,r=e.listingTitle,c=e.listingCity,s=e.listingState,i=e.startAvail,j=e.endAvail,d={startDate:"",endDate:""};if(e.availabilities){var b=e.availabilities;d=Object(u.a)(b,1)[0]}return Object(n.jsx)(he.a,{children:Object(n.jsx)(pe,{user:a,title:r,location:{listingCity:c,listingState:s},avail:{startAvail:i,endAvail:j},defaultView:o,updated:l,availForDefault:d})},t)}))})})},ge=Object($.a)((function(e){return Object(X.a)({root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})})),ve=function(){var e=ge(),t=Object(r.useState)(""),a=Object(u.a)(t,2),c=a[0],s=a[1],i=Object(r.useState)([]),o=Object(u.a)(i,2),l=o[0],j=o[1],d=Object(r.useState)(null),O=Object(u.a)(d,2),h=O[0],m=O[1],p=Object(r.useState)(null),x=Object(u.a)(p,2),f=x[0],g=x[1],v=Object(r.useState)({start:oe()().format("YYYY-MM-DD"),end:oe()().add(7,"days").format("YYYY-MM-DD")}),y=Object(u.a)(v,2),S=y[0],w=y[1],C=Object(r.useState)(!0),N=Object(u.a)(C,2),k=N[0],D=N[1],I=Object(r.useState)(!1),q=Object(u.a)(I,2),R=q[0],A=q[1];return Object(r.useEffect)((function(){k&&b.a.get("/listing").then((function(e){j(e.data)})).catch((function(e){return e}))}),[]),Object(n.jsx)("div",{className:e.root,children:Object(n.jsxs)(Q.a,{container:!0,spacing:3,children:[Object(n.jsx)(Q.a,{item:!0,xs:12,children:Object(n.jsx)(be,{xs:6,onSubmit:function(e){return s(e)},setDefaultView:D,setUpdated:A,startDate:h,setStartDate:m,endDate:f,setEndDate:g,setDateRange:w})}),Object(n.jsx)(Q.a,{item:!0,xs:12,children:Object(n.jsx)(fe,{dateRange:S,locationQuery:c,setLocationQuery:s,listings:l,setListings:j,defaultView:k,updated:R,setUpdated:A})}),Object(n.jsx)(Q.a,{item:!0,xs:6,children:Object(n.jsx)(je,{locationQuery:c,listings:l})})]})})},ye=a(3),Se=a.n(ye),we=a(494),Ce=a(496),Ne=a(469),ke=a(470),De=a(471);function Ie(e){var t=e.children,a=e.value,r=e.index;return Object(n.jsx)("div",{role:"tabpanel",hidden:a!==r,children:a===r&&Object(n.jsx)(we.a,{p:3,children:Object(n.jsx)(S.a,{children:t})})})}Ie.defaultProps={children:Se.a.string};var qe=Object($.a)((function(e){return{main:{marginTop:"10px",marginBottom:"10px"},root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}})),Re=function(e){var t=qe(),a=Object(r.useState)(0),c=Object(u.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(localStorage.userId);Object(u.a)(o,1)[0],e.user;return Object(n.jsx)(Q.a,{container:!0,spacing:2,className:t.main,direction:"row",justify:"center",children:Object(n.jsxs)(Q.a,{item:!0,xs:12,children:[Object(n.jsx)(S.a,{align:"center",variant:"h5",children:"Reviews"}),Object(n.jsxs)(G.a,{className:t.root,children:[Object(n.jsx)(x.a,{position:"static",color:"default",children:Object(n.jsxs)(Ce.a,{value:s,onChange:function(e,t){i(t)},indicatorColor:"secondary",textColor:"primary",centered:!0,children:[Object(n.jsx)(Ne.a,{label:"Host",icon:Object(n.jsx)(ke.a,{})}),Object(n.jsx)(Ne.a,{label:"Guest",icon:Object(n.jsx)(De.a,{})})]})}),Object(n.jsx)(Ie,{value:s,index:0,children:"Reviews left by users about User as a Host."}),Object(n.jsx)(Ie,{value:s,index:1,children:"Reviews left by users about User as a Guest."})]})]})})},Ae=a(472),Pe=a(473),Te=a(474),Ee=a(475),Be=a(476),Fe=a(419),We=a(477),_e=a(478),Le=a(479),He=a(480),Ve=a(481),Me=a(482),ze=Object(Fe.a)({table:{minWidth:650}}),Ye=function(e){var t=ze(),a=e.listingId,c=Object(r.useState)({listingTitle:null,listingDescription:null,listingAddress:null,ada:null,internet:null,pets:null,privateBath:null,roommates:null,smoking:null}),s=Object(u.a)(c,2),i=s[0],o=s[1];return Object(r.useEffect)((function(){b.a.get("/listing/user/".concat(a)).then((function(e){var t=e.data,a=t.listingTitle,n=t.listingDescription,r=t.listingAddress,c=t.ada,s=t.internet,i=t.pets,l=t.privateBath,j=t.roommates,u=t.smoking;o({listingTitle:a,listingDescription:n,listingAddress:r,ada:c,internet:s,pets:i,privateBath:l,roommates:j,smoking:u})})).catch((function(e){return e}))}),[]),Object(n.jsx)("div",{className:"listing-info",children:Object(n.jsx)(Q.a,{container:!0,spacing:2,direction:"row",justify:"center",children:Object(n.jsxs)(G.a,{children:[Object(n.jsx)("br",{}),Object(n.jsx)(S.a,{variant:"h5",align:"center",children:i.listingTitle}),Object(n.jsx)("br",{}),Object(n.jsx)(G.a,{children:Object(n.jsx)(S.a,{children:"Enter Listing Photos Here."})}),Object(n.jsx)("br",{}),Object(n.jsx)(S.a,{variant:"h6",align:"center",children:i.listingAddress}),Object(n.jsx)("br",{}),Object(n.jsx)(S.a,{children:"Description: ".concat(i.listingDescription)}),Object(n.jsx)("br",{}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(S.a,{variant:"h5",align:"center",children:"Accommodations"}),Object(n.jsx)(Ae.a,{className:t.table,"aria-label":"simple table",children:Object(n.jsx)(Pe.a,{children:Object(n.jsxs)(Te.a,{children:[Object(n.jsx)(Ee.a,{children:Object(n.jsxs)(Be.a,{children:[Object(n.jsx)(We.a,{fontSize:"large"}),"ADA Accessible:"," ",i.ada]})}),Object(n.jsx)(Ee.a,{children:Object(n.jsxs)(Be.a,{children:[Object(n.jsx)(_e.a,{fontSize:"large"}),"Wifi:"," ",i.internet]})}),Object(n.jsx)(Ee.a,{children:Object(n.jsxs)(Be.a,{children:[Object(n.jsx)(Le.a,{fontSize:"large"}),"Pets:"," ",i.pets]})}),Object(n.jsx)(Ee.a,{children:Object(n.jsxs)(Be.a,{children:[Object(n.jsx)(He.a,{fontSize:"large"}),"Private Bath:"," ",i.privateBath]})}),Object(n.jsx)(Ee.a,{children:Object(n.jsxs)(Be.a,{children:[Object(n.jsx)(Ve.a,{fontSize:"large"}),"Roommates:"," ",i.roommates]})}),Object(n.jsx)(Ee.a,{children:Object(n.jsxs)(Be.a,{children:[Object(n.jsx)(Me.a,{fontSize:"large"}),"Smoking:"," ",i.smoking]})})]})})})]})]})})})},Ue=Object($.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),Qe=function(e){Ue();var t=e.hostId,a=e.userId,c=e.avbId,s=Object(r.useState)({firstName:"",lastName:"",pronouns:"",hostRating:"",id:0,profilePhoto:"",userBio:""}),i=Object(u.a)(s,2),o=i[0],l=i[1];return Object(r.useEffect)((function(){b.a.get("/user/".concat(t)).then((function(e){var t=e.data,a=t.firstName,n=t.lastName,r=t.pronouns,c=t.hostRating,s=t.id,i=t.profilePhoto,o=t.userBio;l({firstName:a,lastName:n,pronouns:r,hostRating:c,id:s,profilePhoto:i,userBio:o})})).catch((function(e){return e}))}),[]),Object(n.jsxs)("div",{className:"host-info",children:[Object(n.jsx)(we.a,{textAlign:"center",color:"inherited",margin:"normal",children:Object(n.jsx)(v.a,{component:O.b,to:{pathname:"/hostProfile",state:{hostData:o}},variant:"contained",children:Object(n.jsx)("img",{src:"https://i.ibb.co/ZMtTcsm/bettythedog.jpg",alt:"dog portrait",width:"150"})})}),Object(n.jsx)("br",{}),Object(n.jsxs)(S.a,{children:["Host:"," ",o.firstName," ",o.lastName]}),Object(n.jsxs)(S.a,{children:["Rating:"," ",o.hostRating]}),Object(n.jsx)("br",{}),Object(n.jsx)(v.a,{variant:"outlined",color:"secondary",children:"message host"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(v.a,{variant:"outlined",color:"secondary",onClick:function(){var e={userId:a,avbId:c};b.a.post("/request/newRequest",{params:e})},children:"request swap"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(v.a,{variant:"outlined",color:"secondary",component:O.b,to:{pathname:"/writeReview"},children:"write review"})]})},Ge=Object($.a)((function(e){return Object(X.a)({root:{flewGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})})),Ze=function(e){var t=Ge(),a=Object(r.useState)(localStorage.userId),c=Object(u.a)(a,1)[0],s=Object(h.g)().id,i=Object(r.useState)(3),o=Object(u.a)(i,1)[0],l=e.user;return Object(n.jsx)("div",{className:t.root,children:Object(n.jsxs)(Q.a,{container:!0,spacing:3,children:[Object(n.jsxs)(Q.a,{item:!0,xs:12,sm:8,children:[Object(n.jsx)(G.a,{className:t.paper,children:Object(n.jsx)(Ye,{listingId:s})}),Object(n.jsx)(Re,{user:l})]}),Object(n.jsx)(Q.a,{item:!0,xs:12,sm:2,children:Object(n.jsx)(G.a,{className:t.paper,children:Object(n.jsx)(Qe,{hostId:s,userId:c,avbId:o})})})]})})},Je=a(483),Ke=a(461),$e=a(484),Xe=a(501),et=a(486),tt=Object($.a)({label:{color:"black"}}),at=function(e){var t=tt(),a=e.handleClose,r=e.handleClickOff,c=e.handleTextChange,s=e.toggleSwitch,i=e.open,o=function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var e;e=a.result,b.a.post("http://".concat("ec2-18-222-140-77.us-east-2.compute.amazonaws.com",":").concat("3000","/image/newListingPhoto"),{data:e}).then((function(e){return console.log(e)})).catch((function(e){return console.warn(e)}))}};return Object(n.jsxs)(p.a,{open:i,onClose:function(){return r("info")},fullWidth:!0,maxWidth:"md","aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(f.a,{id:"form-dialog-title",children:"Edit your Information"}),Object(n.jsxs)(v.a,{variant:"contained",component:"label",children:["Upload Photos",Object(n.jsx)("input",{type:"file",style:{display:"none"},onChange:function(e){return o(e)}})]}),Object(n.jsxs)(Je.a,{children:[Object(n.jsx)(g.a,{autoFocus:!0,multiline:!0,variant:"outlined",placeholder:"Whats your address?",onChange:function(e){return c(e,"listingAddress")}}),Object(n.jsx)(g.a,{autoFocus:!0,multiline:!0,variant:"outlined",placeholder:"City?",onChange:function(e){return c(e,"listingCity")}}),Object(n.jsx)(g.a,{autoFocus:!0,multiline:!0,variant:"outlined",placeholder:"State?",onChange:function(e){return c(e,"listingState")}}),Object(n.jsx)(g.a,{autoFocus:!0,multiline:!0,variant:"outlined",placeholder:"Zip Code?",onChange:function(e){return c(e,"listingZipCode")}})]}),Object(n.jsx)(Je.a,{children:Object(n.jsx)(g.a,{autoFocus:!0,multiline:!0,variant:"outlined",placeholder:"Give your place a fun title!",fullWidth:!0,onChange:function(e){return c(e,"listingTitle")}})}),Object(n.jsx)(Je.a,{children:Object(n.jsx)(g.a,{autoFocus:!0,multiline:!0,rows:3,variant:"outlined",placeholder:"Describe your place!",fullWidth:!0,onChange:function(e){return c(e,"listingDescription")}})}),Object(n.jsxs)(Je.a,{children:[Object(n.jsx)(Ke.a,{component:"fieldset",children:Object(n.jsx)($e.a,{value:!0,control:Object(n.jsx)(Xe.a,{color:"primary"}),label:"Do you have any pets?",labelPlacement:"start",color:"black",onChange:function(){return s("pets")},classes:{label:t.label}})}),Object(n.jsx)(Ke.a,{component:"fieldset",children:Object(n.jsx)($e.a,{value:!0,control:Object(n.jsx)(Xe.a,{color:"primary"}),label:"Are you a smoker?",labelPlacement:"start",color:"black",onChange:function(){return s("smoking")},classes:{label:t.label}})})]}),Object(n.jsxs)(Je.a,{children:[Object(n.jsx)(Ke.a,{component:"fieldset",children:Object(n.jsx)($e.a,{value:!0,control:Object(n.jsx)(Xe.a,{color:"primary"}),label:"Do you have roommates?",labelPlacement:"start",color:"black",onChange:function(){return s("roommates")},classes:{label:t.label}})}),Object(n.jsx)(Ke.a,{component:"fieldset",children:Object(n.jsx)($e.a,{value:!0,control:Object(n.jsx)(Xe.a,{color:"primary"}),label:"Do you have access to WiFi?",labelPlacement:"start",color:"black",onChange:function(){return s("internet")},classes:{label:t.label}})})]}),Object(n.jsxs)(Je.a,{children:[Object(n.jsx)(Ke.a,{component:"fieldset",children:Object(n.jsx)($e.a,{value:!0,control:Object(n.jsx)(Xe.a,{color:"primary"}),label:"Do you have a private bathroom?",labelPlacement:"start",color:"black",onChange:function(){return s("privateBath")},classes:{label:t.label}})}),Object(n.jsx)(Ke.a,{component:"fieldset",children:Object(n.jsx)($e.a,{value:!0,control:Object(n.jsx)(Xe.a,{color:"primary"}),label:"Is your place ADA-compliant?",labelPlacement:"start",color:"black",classes:{label:t.label}})})]}),Object(n.jsxs)(et.a,{children:[Object(n.jsx)(v.a,{onClick:function(e){return a(e,!1)},color:"primary",children:"Cancel"}),Object(n.jsx)(v.a,{onClick:function(e){return a(e,!0)},color:"primary",children:"Save"})]})]})},nt=function(e){var t=Object(u.a)(e.handleLogin,2),a=(t[0],t[1]),c=e.user,s=Object(r.useState)([]),i=Object(u.a)(s,2),o=i[0],d=i[1],O=Object(r.useState)(0),h=Object(u.a)(O,2),p=h[0],x=h[1],f=Object(r.useState)(0),g=Object(u.a)(f,2),y=g[0],S=g[1],w=Object(r.useState)(0),C=Object(u.a)(w,2),N=C[0],k=C[1],D=Object(r.useState)(""),I=Object(u.a)(D,2),q=(I[0],I[1]),R=Object(r.useState)(""),A=Object(u.a)(R,2),P=(A[0],A[1]),T=Object(r.useState)(c.id),E=Object(u.a)(T,2),B=E[0],F=(E[1],Object(r.useState)(!1)),W=Object(u.a)(F,2),_=W[0],L=W[1],H=Object(r.useState)(!1),V=Object(u.a)(H,2),M=V[0],z=V[1],Y=Object(r.useState)("listing"),U=Object(u.a)(Y,2),Q=U[0],G=U[1],Z=Object(r.useState)("address"),J=Object(u.a)(Z,2),K=J[0],$=J[1],X=Object(r.useState)("city"),ee=Object(u.a)(X,2),te=ee[0],ae=ee[1],ne=Object(r.useState)("state"),re=Object(u.a)(ne,2),ce=re[0],se=re[1],ie=Object(r.useState)("zip"),oe=Object(u.a)(ie,2),le=oe[0],je=oe[1],ue=Object(r.useState)("title"),de=Object(u.a)(ue,2),be=de[0],Oe=de[1],he=Object(r.useState)(!1),me=Object(u.a)(he,2),pe=me[0],xe=me[1],fe=Object(r.useState)(!1),ge=Object(u.a)(fe,2),ve=ge[0],ye=ge[1],Se=Object(r.useState)(!1),we=Object(u.a)(Se,2),Ce=we[0],Ne=we[1],ke=Object(r.useState)(!1),De=Object(u.a)(ke,2),Ie=De[0],qe=De[1],Re=Object(r.useState)(!1),Ae=Object(u.a)(Re,2),Pe=Ae[0],Te=Ae[1],Ee=Object(r.useState)(!1),Be=Object(u.a)(Ee,2),Fe=Be[0],We=Be[1],_e=Object(r.useState)(""),Le=Object(u.a)(_e,2),He=Le[0],Ve=(Le[1],function(e,t){if("listingDescription"===t)G(e.target.value);else if("listingAddress"===t)$(e.target.value.toLowerCase());else if("listingCity"===t)ae(e.target.value.toLowerCase());else if("listingState"===t)se(e.target.value.toLowerCase());else if("listingZipCode"===t)je(e.target.value);else if("listingTitle"===t)Oe(e.target.value);else if("listingPhoto"===t){var a=e.target.files[0];console.log(a)}}),Me=function(){z(!0)},ze=function(e,t){t&&b.a.post("/listing",{listingAddress:K,listingCity:te,listingState:ce,listingZipCode:le,listingTitle:be,listingDescription:Q,pets:pe,ada:ve,smoking:Ce,roommates:Ie,internet:Pe,privateBath:Fe,userId:B,photoUrl:He}),z(!1)},Ye=function(e){"pets"===e?xe(!pe):"ada"===e?ye(!ve):"smoking"===e?Ne(!Ce):"roommates"===e?qe(!Ie):"internet"===e?Te(!Pe):"privateBath"===e&&We(!Fe)},Ue=function(){z(!1)},Qe=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HOST:"ec2-18-222-140-77.us-east-2.compute.amazonaws.com",REACT_APP_PORT:"3000",REACT_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoieWVsbG93Y3Jvd25kIiwiYSI6ImNrZ3RtNjkyZjAzdjQzMHA3Y3dpdHZwMTgifQ.xR2Qi5BcD_4Bs62Qh5Rakg"}).HOST,":").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HOST:"ec2-18-222-140-77.us-east-2.compute.amazonaws.com",REACT_APP_PORT:"3000",REACT_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoieWVsbG93Y3Jvd25kIiwiYSI6ImNrZ3RtNjkyZjAzdjQzMHA3Y3dpdHZwMTgifQ.xR2Qi5BcD_4Bs62Qh5Rakg"}).PORT,"/dashboard"),{method:"POST",headers:{jwt_token:localStorage.token,email:c.email}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a(!0),q(n.email),P(n.first_name),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.warn(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("listing/user/".concat(B)).then((function(e){e.data&&L(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{localStorage.removeItem("token"),a(!1),m.a.success("Successfully logged out!")}catch(n){console.warn(n.message)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=o.length;return Math.floor(Math.random()*e)},Ke=function(){x(Je())};Object(r.useEffect)((function(){b.a.get("/dashboardInfo",{params:{userId:B,listingId:1}}).then((function(e){var t=e.data;S(t.confirmedSwapCount),k(t.pendingRequests.count),d(t.openAvailabilities),x(Je())})),Qe(),Ge()}),[]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h4",{children:["Hello,"," ",c.firstName,"!!"]}),Object(n.jsxs)("div",{id:"user-notifications",children:[Object(n.jsxs)("p",{children:["You have"," ",y," ","upcoming trips."]}),Object(n.jsxs)("p",{children:["You have"," ",N," ","requests to swap rooms"]})]}),_?Object(n.jsxs)("div",{id:"random-listing",children:[Object(n.jsx)("p",{children:"Need a weekend getaway?"}),o.length>0&&Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{children:[o[p].hostName," ","has a room open in"," ",o[p].city]}),Object(n.jsxs)("p",{children:[o[p].startDate," to ",o[p].endDate]})]}),Object(n.jsx)("button",{type:"submit",children:"View Listing!"}),Object(n.jsx)("button",{type:"submit",onClick:Ke,children:"Show me another!"})]}):Object(n.jsxs)("div",{children:["It looks like you don't have a listing yet. Lets fix that!",Object(n.jsx)(v.a,{onClick:Me,children:"Create Listing"}),Object(n.jsx)(at,{handleClose:ze,handleClickOff:Ue,handleTextChange:Ve,toggleSwitch:Ye,open:M})]}),Object(n.jsx)("button",{className:"btn btn-success btn-block",type:"submit",onClick:function(e){return Ze(e)},children:"Logout"})]})},rt=a(487),ct=a(460),st=a(488),it=a(485),ot=a(237),lt=a.n(ot),jt=Object($.a)({main:{borderStyle:"none none solid none"}}),ut=function(e){var t=e.thread,a=e.userId,c=e.setActiveThread,s=(jt(),Object(r.useState)("")),i=Object(u.a)(s,2),o=i[0],l=i[1];return Object(r.useEffect)((function(){var e={thread:t,userId:a};b.a.get("message/getName/",{params:e}).then((function(e){var t=e.data;return l(t)}))}),[]),Object(n.jsx)(v.a,{onClick:function(){return c(t)},children:Object(n.jsx)(Q.a,{children:o})})},dt=Object($.a)({main:{borderStyle:"none none solid none",padding:"0px"}}),bt=function(e){var t=e.threads,a=e.userId,r=e.setActiveThread,c=dt();return Object(n.jsx)(n.Fragment,{children:t.map((function(e){return Object(n.jsx)(Q.a,{className:c.main,children:Object(n.jsx)(ut,{thread:e,setActiveThread:r,userId:a})})}))})},Ot=Object($.a)({sent:{textAlign:"right",paddingLeft:"35%",paddingRight:"2%",display:"flex",justifyContent:"flex-end"},received:{textAlign:"left",paddingRight:"35%",paddingLeft:"2%",display:"flex",justifyContent:"flex-start"},bubble:{border:"0.5px solid black",borderRadius:"10px",margin:"5px",padding:"10px",display:"inline-block"}}),ht=function(e){var t=e.message,a=Ot(),c=Object(r.useState)(t),s=Object(u.a)(c,1)[0];return Object(r.useEffect)((function(){}),[s]),Object(n.jsx)(we.a,{className:t.sender?a.sent:a.received,children:Object(n.jsx)(we.a,{className:a.bubble,children:t.body})})},mt=Object($.a)({sent:{justifyContent:"right"},received:{justifyContent:"left"}}),pt=function(e){var t=e.thread,a=e.userId,c=Object(r.useState)([{body:"",sender:!0}]),s=Object(u.a)(c,2),i=s[0],o=s[1];mt();Object(r.useEffect)((function(){var e={thread:t,userId:a};b.a.get("message/getMessages",{params:e}).then((function(e){var t=e.data;return o(t)}))}),[t]);return Object(n.jsx)(n.Fragment,{children:i.map((function(e){return Object(n.jsx)(ht,{message:e})}))})},xt=Object($.a)({main:{borderStyle:"solid",align:"center",justify:"center",height:"100%"},outer:{marginTop:"10px",marginBottom:"10px",align:"center",justify:"center",height:"85vh"},rightBorder:{borderStyle:"none solid none none"},scrollStyle:{overflow:"auto",maxHeight:"90%",display:"flex",flexDirection:"column-reverse"},messageListStyle:{maxHeight:"100%",position:"relative"},newMessageStyle:{position:"absolute",bottom:"0",width:"100%",maxHeight:"10%",minHeight:"10%",borderStyle:"solid none none none"}}),ft=function(e){var t=e.user,a=xt(),c=Object(r.useState)([]),s=Object(u.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(0),j=Object(u.a)(l,2),d=j[0],O=j[1],h=Object(r.useState)(""),m=Object(u.a)(h,2),p=m[0],x=m[1];Object(r.useEffect)((function(){b.a.get("message/getThreads/".concat(t.id)).then((function(e){var t=e.data;o(t),O(t[0])}))}),[]);return Object(n.jsx)(rt.a,{className:a.outer,children:Object(n.jsxs)(Q.a,{container:!0,className:a.main,justify:"center",children:[Object(n.jsx)(Q.a,{item:!0,xs:3,className:a.rightBorder,children:Object(n.jsx)(bt,{threads:i,setActiveThread:O,userId:t.id})}),Object(n.jsxs)(Q.a,{item:!0,xs:9,className:a.messageListStyle,children:[Object(n.jsx)(Q.a,{className:a.scrollStyle,children:Object(n.jsx)(Q.a,{children:Object(n.jsx)(pt,{thread:d,userId:t.id})})}),Object(n.jsx)(Q.a,{className:a.newMessageStyle,children:Object(n.jsx)(Ke.a,{fullWidth:!0,children:Object(n.jsx)(ct.a,{id:"message-box",placeholder:"Send a message",type:"text",value:p,onChange:function(e){return function(e){x(e.target.value)}(e)},disableUnderline:!0,multiline:!0,margin:"dense",endAdornment:Object(n.jsx)(st.a,{position:"end",children:Object(n.jsx)(it.a,{"aria-label":"send-message",onClick:function(){var e={activeThread:d,newMessage:p,userId:t.id};b.a.post("message/newMessage",{params:e}),x("")},children:Object(n.jsx)(lt.a,{})})})})})})]})]})})},gt=a(489),vt=a(243),yt=a(490),St=a(502),wt=a(238),Ct=a.n(wt),Nt=a(239),kt=a.n(Nt),Dt=Object($.a)({root:{flexGrow:1,background:"#4E3977"},avatar:{marginLeft:"7px"}}),It=function(e){var t=Object(u.a)(e.handleLogin,2),a=(t[0],t[1],Object(u.a)(e.toggleMode,2)),c=a[0],s=a[1],i=Dt(),o=Object(r.useState)(!1),l=Object(u.a)(o,2),j=(l[0],l[1],Object(r.useState)(null)),d=Object(u.a)(j,2),b=d[0],h=d[1],m=function(){h(null)};return Object(n.jsx)("div",{className:"toggle-container",children:Object(n.jsx)(x.a,{className:i.root,position:"static",children:Object(n.jsxs)(gt.a,{variant:"dense",children:[Object(n.jsx)(S.a,{component:O.b,to:"/dashboard",variant:"h3",color:"inherit",children:"\ud83d\udecf"}),Object(n.jsx)(v.a,{component:O.b,to:"/",color:"inherit",children:"HOME"}),Object(n.jsx)(it.a,{component:O.b,to:"/search",color:"inherit",children:Object(n.jsx)(Ct.a,{})}),Object(n.jsx)(Xe.a,{checked:c,onChange:function(){return s((function(e){return!e}))},name:"toggleMode",inputProps:{"aria-label":"toggle between light and dark mode"}}),Object(n.jsx)(it.a,{"aria-controls":"customized-menu","aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},children:Object(n.jsx)(kt.a,{})}),Object(n.jsxs)(vt.a,{id:"customized-menu",anchorEl:b,keepMounted:!0,open:Boolean(b),onClose:m,elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(n.jsx)(yt.a,{component:O.b,to:"/profile",color:"inherit",onClick:m,children:"Profile"}),Object(n.jsx)(yt.a,{component:O.b,to:"/messages",color:"inherit",onClick:m,children:"Messages"}),Object(n.jsx)(yt.a,{children:"Manage Listing"}),Object(n.jsx)(yt.a,{component:O.b,to:"/swaps",color:"inherit",onClick:m,children:"View swaps"}),Object(n.jsx)(yt.a,{component:O.b,to:"/calendar",color:"inherit",onClick:m,children:"Set availability"}),Object(n.jsx)(yt.a,{component:O.b,to:"/bulletins",color:"inherit",onClick:m,children:"Bulletin board"}),Object(n.jsx)(yt.a,{component:O.b,to:"/invite",color:"inherit",onClick:m,children:"Invite friends"})]}),Object(n.jsx)(St.a,{className:i.avatar,children:"BH"})]})})})},qt=a(102),Rt=a.n(qt),At=function(e){var t=e.handleClose,a=e.handleClickOff,r=e.picOpen;return Object(n.jsxs)(p.a,{open:r,onClose:function(){return a("pic")},fullWidth:!0,maxWidth:"md","aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(f.a,{id:"form-dialog-title",children:"Something here to let you pick a new picture"}),Object(n.jsxs)(et.a,{children:[Object(n.jsx)(v.a,{onClick:function(e){return t(e,!1,"pic")},color:"primary",children:"Cancel"}),Object(n.jsx)(v.a,{onClick:function(e){return t(e,!0,"pic")},color:"primary",children:"Update"})]})]})},Pt=function(e){var t=e.handleClose,a=e.handleClickOff,r=e.handleTextChange,c=e.name,s=e.pronouns,i=e.location,o=e.infoOpen;return Object(n.jsxs)(p.a,{open:o,onClose:function(){return a("info")},fullWidth:!0,maxWidth:"md","aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(f.a,{id:"form-dialog-title",children:"Edit your Information"}),Object(n.jsx)(Je.a,{children:Object(n.jsx)(g.a,{autoFocus:!0,multiline:!0,rows:3,variant:"outlined",label:"Name",defaultValue:c,fullWidth:!0,onChange:function(e){return r(e,"name")}})}),Object(n.jsx)(Je.a,{children:Object(n.jsx)(g.a,{autoFocus:!0,multiline:!0,rows:3,variant:"outlined",label:"Preferred pronouns",defaultValue:s,fullWidth:!0,onChange:function(e){return r(e,"pronouns")}})}),Object(n.jsx)(Je.a,{children:Object(n.jsx)(g.a,{autoFocus:!0,multiline:!0,rows:3,variant:"outlined",label:"Listing location",defaultValue:i,fullWidth:!0,onChange:function(e){return r(e,"location")}})}),Object(n.jsxs)(et.a,{children:[Object(n.jsx)(v.a,{onClick:function(e){return t(e,!1,"info")},color:"primary",children:"Cancel"}),Object(n.jsx)(v.a,{onClick:function(e){return t(e,!0,"info")},color:"primary",children:"Save"})]})]})},Tt=Object($.a)({main:{border:1,borderRadius:2,borderStyle:"solid",justifyContent:"center"},imgStyle:{height:"100%",width:"100%",padding:"10px 10px 5px"},infoStyle:{border:1,borderRadius:2,borderStyle:"solid",justifyContent:"center",width:"50%",marginTop:"5px",marginBottom:"5px"},textStyle:{textAlign:"center",wordWrap:"break-word"},buttonStyle:{padding:"5px 10px 10px",justifyContent:"center",display:"flex"},overlayStyle:{color:"black",position:"absolute",bottom:"0",right:"0",opacity:".25"},editStyle:{position:"absolute",bottom:"0",right:"0"},picOverlayStyle:{position:"relative","&:hover":{"& $overlayStyle":{opacity:"1"}}}}),Et=function(e){var t=e.user,a=Tt(),c=Object(r.useState)(!1),s=Object(u.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(!1),j=Object(u.a)(l,2),d=j[0],b=j[1],O=Object(r.useState)(t.profilePhoto),h=Object(u.a)(O,2),m=h[0],p=h[1],x=Object(r.useState)(t.firstName),f=Object(u.a)(x,2),g=f[0],v=f[1],y=Object(r.useState)(t.pronouns),S=Object(u.a)(y,2),w=S[0],C=S[1],N=Object(r.useState)("New Orleans, LA"),k=Object(u.a)(N,2),D=k[0],I=k[1],q=Object(r.useState)(m),R=Object(u.a)(q,2),A=R[0],P=R[1],T=Object(r.useState)(t.firstName),E=Object(u.a)(T,2),B=E[0],F=E[1],W=Object(r.useState)(t.pronouns),_=Object(u.a)(W,2),L=_[0],H=_[1],V=Object(r.useState)("New Orleans, LA"),M=Object(u.a)(V,2),z=M[0],Y=M[1],U=function(e){"pic"===e?o(!0):b(!0)},G=function(e,t,a){"pic"===a?(t&&p(A),o(!1)):(t&&(g!==B&&v(B),w!==L&&C(L),D!==z&&I(z)),b(!1))},Z=function(e){"pic"===e?o(!1):b(!1)},J=function(e,t){"pic"===t?P(e.target.value):"name"===t?F(e.target.value):"pronouns"===t?H(e.target.value):"location"===t&&Y(e.target.value)};return Object(n.jsxs)(rt.a,{className:a.main,children:[Object(n.jsxs)(Q.a,{item:!0,xs:12,className:a.picOverlayStyle,children:[Object(n.jsx)("img",{src:m,alt:"ya dun goofed",className:a.imgStyle}),Object(n.jsx)(it.a,{className:a.editStyle,onClick:function(){return U("pic")},children:Object(n.jsx)(Rt.a,{className:a.overlayStyle})}),Object(n.jsx)(At,{handleClose:G,handleClickOff:Z,handleTextChange:J,pic:m,picOpen:i})]}),Object(n.jsx)(Q.a,{item:!0,xs:12,className:a.picOverlayStyle,children:Object(n.jsxs)(rt.a,{className:a.infoStyle,children:[Object(n.jsx)(we.a,{className:a.textStyle,children:g}),Object(n.jsx)(we.a,{className:a.textStyle,children:w}),Object(n.jsx)(we.a,{className:a.textStyle,children:D}),Object(n.jsx)(it.a,{className:a.editStyle,onClick:function(){return U("info")},children:Object(n.jsx)(Rt.a,{className:a.overlayStyle})}),Object(n.jsx)(Pt,{handleClose:G,handleClickOff:Z,handleTextChange:J,name:g,pronouns:w,location:D,infoOpen:d,picOpen:i})]})})]})},Bt=function(e){var t=e.handleClose,a=e.handleClickOff,r=e.handleTextChange,c=e.bio,s=e.open;return Object(n.jsxs)(p.a,{open:s,onClose:a,fullWidth:!0,maxWidth:"md","aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(f.a,{id:"form-dialog-title",children:"Edit your Bio"}),Object(n.jsx)(Je.a,{children:Object(n.jsx)(g.a,{autoFocus:!0,multiline:!0,rows:3,variant:"outlined",defaultValue:c,fullWidth:!0,onChange:function(e){return r(e)}})}),Object(n.jsxs)(et.a,{children:[Object(n.jsx)(v.a,{onClick:function(e){return t(e,!1)},color:"primary",children:"Cancel"}),Object(n.jsx)(v.a,{onClick:function(e){return t(e,!0)},color:"primary",children:"Save"})]})]})},Ft=Object($.a)({main:{border:1,borderRadius:2,borderStyle:"solid",align:"center",justify:"center"},buttonStyle:{padding:"5px 10px 10px",justifyContent:"center",display:"flex"},infoStyle:{border:1,borderRadius:2,position:"relative",borderStyle:"solid",justifyContent:"center",width:"50%",marginTop:"5px",marginBottom:"5px","&:hover":{"& $overlayStyle":{opacity:"1"}}},imgStyle:{height:"30%",width:"30%",padding:"10px 10px 5px"},overlayStyle:{color:"black",position:"absolute",bottom:"0",right:"0",opacity:".25"},editStyle:{position:"absolute",bottom:"0",right:"0"}}),Wt=function(e){var t=e.user,a=Ft(),c=Object(r.useState)(!1),s=Object(u.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(t.userBio),j=Object(u.a)(l,2),d=j[0],O=j[1],h=Object(r.useState)(d),m=Object(u.a)(h,2),p=m[0],x=m[1],f=Object(r.useState)("https://images.unsplash.com/photo-1520619831939-20749195c50f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=651&q=80"),g=Object(u.a)(f,1)[0];Object(r.useEffect)((function(){b.a.get("user/oneUser/".concat(t.id)).then((function(e){var t=e.data;return O(t.userBio)}))}),[]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(rt.a,{className:a.main,children:[Object(n.jsx)(Q.a,{container:!0,justify:"center",item:!0,xs:12,children:Object(n.jsx)("img",{src:g,alt:"nobodys home",className:a.imgStyle})}),Object(n.jsx)(Q.a,{item:!0,xs:12,children:Object(n.jsx)(we.a,{className:a.buttonStyle,children:Object(n.jsx)(v.a,{variant:"contained",color:"primary",children:"Update your listing"})})}),Object(n.jsx)(Q.a,{item:!0,xs:12,children:Object(n.jsxs)(rt.a,{className:a.infoStyle,children:[d,Object(n.jsx)(it.a,{className:a.editStyle,onClick:function(){o(!0)},children:Object(n.jsx)(Rt.a,{className:a.overlayStyle})}),Object(n.jsx)(Bt,{handleClose:function(e,a){a&&(b.a.patch("user/bio/".concat(t.id),{params:{newBio:p}}),O(p)),o(!1)},handleClickOff:function(){o(!1)},handleTextChange:function(e){x(e.target.value)},bio:d,open:i})]})})]})})},_t=Object($.a)({main:{marginTop:"10px",marginBottom:"10px"}}),Lt=function(e){var t=e.user,a=_t();return Object(n.jsxs)(Q.a,{container:!0,spacing:2,className:a.main,direction:"row",justify:"center",children:[Object(n.jsx)(Q.a,{item:!0,xs:3,children:Object(n.jsx)(Et,{user:t})}),Object(n.jsx)(Q.a,{item:!0,xs:9,children:Object(n.jsx)(Wt,{user:t})})]})},Ht=a(244),Vt=a(245),Mt=a(246),zt=function(e){var t=e.user,a=Object(r.useState)(t.id),c=Object(u.a)(a,1)[0],s=Object(r.useState)(1),i=Object(u.a)(s,2),o=i[0],l=i[1],j=Object(r.useState)([]),d=Object(u.a)(j,2),O=d[0],h=d[1];Object(r.useEffect)((function(){b.a.get("listing/user/".concat(c)).then((function(e){var t=e.data;return l(t.id)})).then((function(){return b.a.get("availability/allAvailabilities/".concat(o)).then((function(e){var t=e.data;h(t)}))}))}),[c]);return Object(n.jsx)(rt.a,{children:Object(n.jsx)(Ht.a,{plugins:[Vt.a,Mt.a],initialView:"dayGridMonth",events:O,selectable:!0,eventOverlap:!1,select:function(e){return function(e){var t=e.view.calendar,a={title:"Availability",start:e.startStr,end:e.endStr,overlap:!1,backgroundColor:"green",userId:c},n=!0;t.getEvents().filter((function(e){return"Availability"===e.title})).forEach((function(t){var a=oe()(e.startStr).isBetween(t.start,t.end),r=oe()(e.endStr).isBetween(t.start,t.end),c=oe()(e.startStr).isSame(t.start),s=oe()(t.start).isBetween(e.startStr,e.endStr),i=oe()(t.end).isBetween(e.startStr,e.endStr),l=oe()(e.endStr).isSame(t.end);(a||r||c||s||i)&&(n=!1),c&&l&&(b.a.delete("availability",{params:{startDate:e.startStr,endDate:e.endStr,listingId:o}}),t.remove())})),n&&(t.addEvent(a),b.a.post("/availability/setAvailability",{availability:a}))}(e)},eventBackgroundColor:"green"})})},Yt=Object($.a)({main:{border:1,borderRadius:2,borderStyle:"solid",align:"center",justify:"center"},buttonStyle:{padding:"5px 10px 10px",justifyContent:"center",display:"flex"},infoStyle:{border:1,borderRadius:2,position:"relative",borderStyle:"solid",justifyContent:"center",width:"50%",marginTop:"5px",marginBottom:"5px","&:hover":{"& $overlayStyle":{opacity:"1"}}},imgStyle:{height:"30%",width:"30%",padding:"10px 10px 5px"}}),Ut=function(e){var t=e.host,a=Yt(),c=Object(r.useState)(t.userBio),s=Object(u.a)(c,1)[0];return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(rt.a,{className:a.main,children:[Object(n.jsx)(Q.a,{container:!0,justify:"center",item:!0,xs:12,children:Object(n.jsx)("img",{src:"https://images.unsplash.com/photo-1520619831939-20749195c50f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=651&q=80",alt:"nobodys home",className:a.imgStyle})}),Object(n.jsx)(Q.a,{item:!0,xs:12,children:Object(n.jsx)(we.a,{className:a.buttonStyle,children:Object(n.jsx)(v.a,{variant:"contained",color:"primary",children:"Availability"})})}),Object(n.jsx)(Q.a,{item:!0,xs:12,children:Object(n.jsx)(rt.a,{className:a.infoStyle,children:s})})]})})},Qt=Object($.a)({main:{border:1,borderRadius:2,borderStyle:"solid",justifyContent:"center"},imgStyle:{height:"100%",width:"100%",padding:"10px 10px 5px"},infoStyle:{border:1,borderRadius:2,borderStyle:"solid",justifyContent:"center",width:"50%",paddingTop:"5px",paddingBottom:"5px"},textStyle:{textAlign:"center",wordWrap:"break-word"},buttonStyle:{padding:"5px 10px 10px",justifyContent:"center",display:"flex"}}),Gt=function(e){var t=e.host,a=Qt();return Object(n.jsxs)(rt.a,{className:a.main,children:[Object(n.jsx)(Q.a,{item:!0,xs:12,children:Object(n.jsx)("img",{src:t.profilePhoto,alt:"ya dun goofed",className:a.imgStyle})}),Object(n.jsx)(Q.a,{item:!0,xs:12,children:Object(n.jsxs)(rt.a,{className:a.infoStyle,children:[Object(n.jsx)(we.a,{className:a.textStyle,children:t.firstName}),Object(n.jsx)(we.a,{className:a.textStyle,children:t.pronouns}),Object(n.jsx)(we.a,{className:a.textStyle,children:"New Orleans, LA"})]})}),Object(n.jsx)(Q.a,{item:!0,xs:12,children:Object(n.jsx)(we.a,{className:a.buttonStyle,children:Object(n.jsxs)(v.a,{variant:"contained",color:"primary",component:O.b,to:"/messages",children:["Message"," ",t.firstName]})})})]})},Zt=Object($.a)({main:{marginTop:"10px",marginBottom:"10px"}}),Jt=function(e){var t=e.location,a=Object(r.useState)(t.state.hostData),c=Object(u.a)(a,1)[0],s=Zt();return Object(n.jsxs)(Q.a,{container:!0,spacing:2,className:s.main,direction:"row",justify:"center",children:[Object(n.jsx)(Q.a,{item:!0,xs:3,children:Object(n.jsx)(Gt,{host:c})}),Object(n.jsx)(Q.a,{item:!0,xs:9,children:Object(n.jsx)(Ut,{host:c})})]})},Kt=Object($.a)({main:{borderStyle:"solid",width:"75%"},boxStyle:{display:"flex",justifyContent:"center"},imageStyle:{borderStyle:"none solid none none",display:"flex",alignItems:"center",justifyContent:"center"},imgStyle:{height:"100%",width:"100%"},bottomBorder:{borderStyle:"none none solid none"}}),$t=function(e){var t=e.swap,a=e.guestId,c=Kt(),s=Object(r.useState)({firstName:""}),i=Object(u.a)(s,2),o=i[0],l=i[1],j=Object(r.useState)(""),d=Object(u.a)(j,2),O=d[0],h=d[1],m=Object(r.useState)(""),p=Object(u.a)(m,2),x=p[0],f=p[1];return Object(r.useEffect)((function(){a&&(b.a.get("user/".concat(a)).then((function(e){var t=e.data;l(t)})),b.a.get("listingPhotos/".concat(a)).then((function(e){var t=e.data;h(t.url)})),b.a.get("listing/user/".concat(a)).then((function(e){var t=e.data;f(t.listingAddress)})))}),[a]),Object(n.jsx)(we.a,{className:c.boxStyle,children:Object(n.jsxs)(Q.a,{container:!0,spacing:0,className:c.main,children:[Object(n.jsx)(Q.a,{xs:3,className:c.imageStyle,children:Object(n.jsx)("img",{src:O,alt:"not found",className:c.imgStyle})}),Object(n.jsxs)(Q.a,{xs:9,children:[Object(n.jsx)(Q.a,{xs:12,className:c.bottomBorder,children:"".concat(t.start," to ").concat(t.end)}),Object(n.jsx)(Q.a,{xs:12,className:c.bottomBorder,children:x}),Object(n.jsx)(Q.a,{xs:12,className:c.bottomBorder,children:o.firstName}),Object(n.jsxs)(Q.a,{xs:12,children:["Stuff",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})]})]})})},Xt=function(e){var t,a=e.swaps;return Object(n.jsx)(n.Fragment,{children:(t=a,t.map((function(e){if(e.guestId){var t=e.guestId;return Object(n.jsx)("div",{children:Object(n.jsx)($t,{swap:e,guestId:t,"margin-bottom":"10px"})})}return e.requester_ids?e.requester_ids.map((function(t){var a=t;return Object(n.jsx)("div",{children:Object(n.jsx)($t,{swap:e,guestId:a,"margin-bottom":"10px"})})})):"whoops"})))})},ea=function(e){var t=e.user,a=Object(r.useState)(t),c=Object(u.a)(a,1)[0],s=Object(r.useState)([]),i=Object(u.a)(s,2),o=i[0],l=i[1],j=Object(r.useState)([]),d=Object(u.a)(j,2),O=d[0],h=d[1],m=Object(r.useState)([]),p=Object(u.a)(m,2),x=(p[0],p[1]);return Object(r.useEffect)((function(){b.a.get("listing/user/".concat(t.id)).then((function(e){var t=e.data;b.a.get("availability/allAvailabilities/".concat(t.id)).then((function(e){var t=e.data,a=[],n=[],r=[];t.forEach((function(e){var t=e.type;"swap"===t?a.push(e):"req"===t?n.push(e):r.push(e)})),l(a),h(n),x(r)}))}))}),[c]),Object(n.jsxs)(n.Fragment,{children:["Hello,"," ".concat(t.firstName,"!"),Object(n.jsx)("br",{}),"These swaps have been confirmed. Have fun!",Object(n.jsx)("br",{}),Object(n.jsx)(Xt,{swaps:o}),Object(n.jsx)("br",{}),"These swaps are still pending. Check back later!",Object(n.jsx)("br",{}),Object(n.jsx)(Xt,{swaps:O}),Object(n.jsx)("br",{}),"These swaps have already happened. Please submit a review for your experience!",Object(n.jsx)("br",{})]})},ta=a(240),aa=a.n(ta),na=a(491),ra=a(492),ca=a(493),sa=a.p+"static/media/realisticbed.ea005bf2.jpg",ia=a(241),oa=a.n(ia),la=function(e){var t=Object(r.useState)(""),a=Object(u.a)(t,2),c=(a[0],a[1]),s=Object(r.useState)(""),i=Object(u.a)(s,2),o=(i[0],i[1]),l=Object(r.useState)(""),j=Object(u.a)(l,2),d=(j[0],j[1]),b=Object(r.useState)("changed?"),O=Object(u.a)(b,2),h=O[0],p=O[1],x={header:{backgroundImage:"url(".concat(sa,")"),height:"100vh",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}};return Object(n.jsxs)("div",{className:"invite-container","justify-content":"center",style:x.header,children:[Object(n.jsx)("h1",{className:"text-center my-5",children:"Invite a Friend."}),Object(n.jsxs)("form",{className:"contact-form",onSubmit:function(e){e.preventDefault(),aa.a.sendForm("service_53v3f4a","template_r379ghv",e.target,"user_sr6OphdGbk92U9vz6P8xA").then((function(t){m.a.success("Invite sent!"),e.target.reset()})).catch((function(e){m.a.error("There was a problem sending your invite...")}))},children:[Object(n.jsxs)("label",{htmlFor:"name",children:[Object(n.jsx)(na.a,{}),"Name",Object(n.jsx)("input",{type:"text",placeholder:"Name",name:"user_name",onChange:function(e){return o(e.target.value)}})]}),Object(n.jsxs)("label",{htmlFor:"email",children:[Object(n.jsx)(ra.a,{}),"Email",Object(n.jsx)("input",{type:"email",placeholder:"Enter your friend's email address",name:"user_email",onChange:function(e){c(e.target.value),p(oa()())}})]}),Object(n.jsxs)("label",{htmlFor:"sender-info",children:[Object(n.jsx)(ca.a,{}),"Your Email",Object(n.jsx)("input",{type:"email",placeholder:"Enter your email address",onChange:function(e){d(e.target.value)}})]}),Object(n.jsx)("input",{type:"hidden",name:"message",value:h}),Object(n.jsx)("input",{type:"submit",value:"SUBMIT"})]})]})},ja=Object($.a)((function(e){return Object(X.a)({root:{width:"100%",maxWidth:"36ch"},paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary}})})),ua=function(e){var t=e.body,a=ja();return Object(n.jsx)(G.a,{className:a.paper,children:t})};function da(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),i=Object(u.a)(s,2),o=i[0];i[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)(v.a,{variant:"outlined",color:"primary",onClick:function(){c(!0)},children:"create post"}),Object(n.jsx)("form",{className:"create",onSubmit:function(e){e.preventDefault(),console.log(o)},children:Object(n.jsxs)(p.a,{open:a,onClose:function(){c(!1)},"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(f.a,{id:"form-dialog-title",children:"say something! be nice!"}),Object(n.jsx)(Je.a,{children:Object(n.jsx)(g.a,{autoFocus:!0,value:o,label:"Post",type:"text",fullWidth:!0})}),Object(n.jsx)(et.a,{children:Object(n.jsx)(v.a,{type:"submit",color:"primary",children:"submit"})})]})})]})}var ba=Object($.a)((function(e){return Object(X.a)({root:{flexGrow:1,padding:"10px"}})})),Oa=function(){var e=ba(),t=Object(r.useState)([{body:""}]),a=Object(u.a)(t,2),c=a[0],s=a[1];return Object(r.useEffect)((function(){b.a.get("/bulletin").then((function(e){s(e.data)}))}),[]),Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)("h4",{children:"community bulletins"}),Object(n.jsx)(da,{}),Object(n.jsx)(Q.a,{container:!0,spacing:3,children:c.map((function(e){return Object(n.jsx)(Q.a,{item:!0,xs:2,children:Object(n.jsx)(ua,{body:e.body})})}))})]})},ha=a(10),ma=a(242),pa=a.n(ma),xa=a(499),fa=Object(ha.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(xa.a),ga=Object($.a)((function(e){return{main:{marginTop:"10px",marginBottom:"10px"},root:{width:200,display:"flex",alignItems:"center"}}})),va=function(e){e.user;var t=ga(),a=Object(r.useState)(2),s=Object(u.a)(a,2),i=(s[0],s[1],c.a.useState(-1)),o=Object(u.a)(i,2);o[0],o[1];return Object(n.jsx)(Q.a,{container:!0,className:t.main,spacing:2,direction:"row",justify:"center",children:Object(n.jsxs)(G.a,{children:[Object(n.jsx)(G.a,{children:"Listing Address Date of Stay"}),Object(n.jsx)(G.a,{children:"Photos of the place?"}),Object(n.jsx)(S.a,{component:"legend",children:"How would you rate your host?"}),Object(n.jsx)(fa,{name:"customized-color",defaultValue:2,getLabelText:function(e){return"".concat(e," Heart").concat(1!==e?"s":"")},precision:.5,icon:Object(n.jsx)(pa.a,{fontSize:"large"})}),Object(n.jsx)("br",{}),Object(n.jsx)(S.a,{component:"legend",children:"How was your stay?"}),Object(n.jsx)(g.a,{name:"host-review",autoFocus:!0,multiline:!0,rows:4,variant:"outlined",fullWidth:!0}),Object(n.jsx)("br",{}),Object(n.jsx)(v.a,{variant:"outlined",color:"secondary",children:"Submit Review"})]})})};m.a.configure();var ya={dob:"1",email:"1",firstName:"1",guestRating:1,hostRating:1,id:1,inviteCount:1,lastName:"1",password:"1",profilePhoto:"1",pronouns:"1",swapCount:1,userBio:"1"},Sa=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(ya),i=Object(u.a)(s,2),o=i[0],d=i[1],m=Object(r.useState)({id:localStorage.userId,firstName:localStorage.firstName,guestRating:localStorage.guestRating,hostRating:localStorage.hostRating,inviteCount:localStorage.inviteCount,profilePhoto:localStorage.profilePhoto,pronouns:localStorage.pronouns,swapCount:localStorage.swapCount,userBio:localStorage.userBio,email:localStorage.email}),p=Object(u.a)(m,2),x=p[0],f=p[1],g=Object(r.useState)(!1),v=Object(u.a)(g,2),y=v[0],S=v[1],w=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://".concat("ec2-18-222-140-77.us-east-2.compute.amazonaws.com",":").concat("3000","/auth/verify"),{method:"POST",headers:{jwt_token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:!0===e.sent&&c(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.warn(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){w(),b.a.get("user/").then((function(e){var t=e.data.filter((function(e){return 1===e.id}));d(t[0])}))}),[x]),Object(n.jsx)("div",{className:y?"dark-mode":"light-mode",children:Object(n.jsxs)(O.a,{children:[Object(n.jsx)(It,{handleLogin:[a,c],toggleMode:[y,S]}),Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.b,{exact:!0,strict:!0,path:"/",render:function(){return a?Object(n.jsx)(h.a,{to:"/dashboard"}):Object(n.jsx)(se,{handleLogin:[a,c],setUser:f})}}),Object(n.jsx)(h.b,{exact:!0,strict:!0,path:"/register",render:function(){return a?Object(n.jsx)(h.a,{to:"/dashboard"}):Object(n.jsx)(re,{handleLogin:[a,c]})}}),Object(n.jsx)(h.b,{exact:!0,strict:!0,path:"/dashboard",render:function(){return a?Object(n.jsx)(nt,{handleLogin:[a,c],user:x}):Object(n.jsx)(h.a,{to:"/"})}}),Object(n.jsx)(h.b,{exact:!0,strict:!0,path:"/search",component:ve}),Object(n.jsx)(h.b,{exact:!0,path:"/listing/:id",component:Ze}),Object(n.jsx)(h.b,{exact:!0,strict:!0,path:"/messages",component:function(){return Object(n.jsx)(ft,{user:o})}}),Object(n.jsx)(h.b,{exact:!0,path:"/profile",component:function(){return Object(n.jsx)(Lt,{user:o})}}),Object(n.jsx)(h.b,{exact:!0,path:"/hostProfile",component:Jt}),Object(n.jsx)(h.b,{exact:!0,path:"/calendar",component:function(){return Object(n.jsx)(zt,{user:o})}}),Object(n.jsx)(h.b,{exact:!0,path:"/swaps",component:function(){return Object(n.jsx)(ea,{user:o})}}),Object(n.jsx)(h.b,{exact:!0,path:"/invite",component:la}),Object(n.jsx)(h.b,{exact:!0,path:"/bulletins",component:Oa}),Object(n.jsx)(h.b,{exact:!0,path:"/writeReview",component:va})]})]})})},wa=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,504)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Sa,{})}),document.getElementById("root")),wa()}},[[415,1,2]]]);
//# sourceMappingURL=main.5c43a192.chunk.js.map